<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title>MyRealBook</title>
    <link href="https://myrealbook.vintherine.org/feed.xml" rel="self" />
    <link href="https://myrealbook.vintherine.org" />
    <updated>2021-09-26T12:32:24+02:00</updated>
    <author>
        <name>Vincent</name>
    </author>
    <id>https://myrealbook.vintherine.org</id>

    <entry>
        <title>Titres à la Realbook</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/titres-a-la-realbook.html"/>
        <id>https://myrealbook.vintherine.org/titres-a-la-realbook.html</id>

        <updated>2021-09-26T11:27:45+02:00</updated>
            <summary>
                <![CDATA[
                    <p>Si vous n'avez jamais ouvert un (old) Realbook de votre vie un titre ressemble à ça :</p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/16/document-Ca4.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/16/responsive/document-Ca4-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/16/responsive/document-Ca4-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/16/responsive/document-Ca4-md.png 768w"  alt="Titre à la Realbook" width="999" height="93"></figure>
<p>On doit cette imitation avec Lilypond à ​​Leigh Verlag sur cette page : <a href="http://leighverlag.blogspot.com/2015/12/mimicking-real-book-look.html">Mimicking the Real Book Look</a>. </p>
<p>L'idée de départ peut sembler un peu tordue mais est finalement assez simple : la variable <code>title</code> de la balise <code>\header</code> peut contenir un <code>\markup</code> qui peut contenir un <code>\score</code> (voir <a href="https://lilypond.org/doc/v2.22/Documentation/notation/music">ici</a>) ... qui peut contenir des <code>\markup</code>.</p>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Si vous n'avez jamais ouvert un (old) Realbook de votre vie un titre ressemble à ça :</p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/16/document-Ca4.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/16/responsive/document-Ca4-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/16/responsive/document-Ca4-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/16/responsive/document-Ca4-md.png 768w"  alt="Titre à la Realbook" width="999" height="93"></figure>
<p>On doit cette imitation avec Lilypond à ​​Leigh Verlag sur cette page : <a href="http://leighverlag.blogspot.com/2015/12/mimicking-real-book-look.html">Mimicking the Real Book Look</a>. </p>
<p>L'idée de départ peut sembler un peu tordue mais est finalement assez simple : la variable <code>title</code> de la balise <code>\header</code> peut contenir un <code>\markup</code> qui peut contenir un <code>\score</code> (voir <a href="https://lilypond.org/doc/v2.22/Documentation/notation/music">ici</a>) ... qui peut contenir des <code>\markup</code>.</p>

<p>Préalable : pour un look and feel realbook une bonne option est d'installer <a href="https://github.com/OpenLilyPondFonts/lilyjazz">Lilyjazz</a>. </p>
<p>Voici un exemple minimaliste commenté:</p>
<pre><code>\version "2.22.1"</code><br><code>#(set-global-staff-size 18)<br></code><br><code>% commentez la ligne suivante si lilyjazz n'est pas installé</code><br><code>\include "lilyjazz.ily"  </code><br><br><code>% variables<br>title = #"Titre de la pièce"</code><br><code>composer = #"compositeur"</code><br><code>meter = #"(Style)"</code><br><code>interprete = #"Interprète" </code><br><code>url = #"https://lilypond.org/"</code><br><br><code>realBookTitle = \markup {</code><br><code>  \score {</code><br><code>    {<br></code><br><code>     % décalage vertical du texte pour écrire dans la portée</code><br><code>      \override TextScript.extra-offset = #'(0 . -4.5)</code><br><code>      s4 % silence invisible</code><br><code>      s^\markup {</code><br><code>        \fill-line {<br>          % le style</code><br><code>          \fontsize #1 \lower #1 \rotate #7 \concat { " " #meter }<br>          % le titre</code><br><code>          \fontsize #4</code><br><code>          \override #'(offset . 9)</code><br><code>          \override #'(thickness . 6)</code><br><code>          \underline \larger \larger #title<br>          % le compositeur</code><br><code>          \fontsize #1 \lower #1 \concat { #composer " " }</code><br><code>      }  }</code><br><code>      s</code><br><code>    }</code><br><code>    \layout {</code><br><code>      \omit Staff.Clef % cacher la clef</code><br><code>      \omit Staff.TimeSignature % cacher la métrique</code><br><code>      \omit Staff.KeySignature % cacher l'armure</code><br><code>      indent = #0 % aligner la portée à gauche</code><br><code>      ragged-right = ##f % aligner la portée à doite</code><br><code>} } }</code><br><br><code>\header {</code><br><code>  title = \realBookTitle<br>  % interprète avec lien vers page web </code><br><code>  arranger = \markup </code><br><code>  \with-url #url</code><br><code>  \with-color #blue \underline</code><br><code>  \concat { "(as played by " #interprete ")" }</code><br><code>  tagline = ##f</code><br><code>}</code><br><br><code>\score {  </code><br><code>  \relative c'' {</code><br><code>    c4 c c c</code><br><code>} }</code></pre>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Silences multi-mesures</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/silences-multi-mesures.html"/>
        <id>https://myrealbook.vintherine.org/silences-multi-mesures.html</id>

        <updated>2021-09-26T11:32:49+02:00</updated>
            <summary>
                <![CDATA[
                    <p>En langage Lilypondien les silences durant 1 ou mesures entières s'expriment avec un R avec une durée indiquée comme une note ordinaire, par exemples R1 pour une mesure en 4/4 ou R2. pour une mesure en 3/4</p>
<p>voyez ci-dessous la différence avec un silence ordinaire, notamment l'alignement des pauses.</p>
<pre><code>{ \time 4/4 c''1 r1 R1 \time 3/4 c''2. r2. R2. }</code></pre>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/14/document-2.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/14/responsive/document-2-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/14/responsive/document-2-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/14/responsive/document-2-md.png 768w"  alt="Silences" width="618" height="106"></figure>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>En langage Lilypondien les silences durant 1 ou mesures entières s'expriment avec un R avec une durée indiquée comme une note ordinaire, par exemples R1 pour une mesure en 4/4 ou R2. pour une mesure en 3/4</p>
<p>voyez ci-dessous la différence avec un silence ordinaire, notamment l'alignement des pauses.</p>
<pre><code>{ \time 4/4 c''1 r1 R1 \time 3/4 c''2. r2. R2. }</code></pre>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/14/document-2.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/14/responsive/document-2-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/14/responsive/document-2-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/14/responsive/document-2-md.png 768w"  alt="Silences" width="618" height="106"></figure>

<p>Il est possible d'ajouter un multiplicateur à la durée mais pour les compresser il faut ajouter la commande <code>\compressMMRests { }</code></p>
<pre><code>{ \time 4/4 R1*4 \compressMMRests { R1*4 }\time 4/4 R1*4 }</code></pre>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/14/document-3.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/14/responsive/document-3-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/14/responsive/document-3-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/14/responsive/document-3-md.png 768w"  alt="Silences avec mutliplicateur" width="567" height="120"></figure>
<p>D'autres manières de faire seraient soit d'utiliser la commande <code><a href="https://lilypond.org/doc/v2.22/Documentation/notation/writing-parts#compressing-empty-measures">\compressEmptyMeasures </a></code>soit de modifier à true la valeur  <code><a href="https://lilypond.org/doc/v2.22/Documentation/notation/the-set-command">skipBars</a></code> dans le contexte score mais cela impacterait également le comportement de Lilypond dans les cas de notes excédant la durée d'une mesure.</p>
<p>Par défaut Lilypond représente par des « silences d’église » (ensembles de bâtons et rectangles) les silences d'une durée maximale de 10 mesures et par un seul silence allongé au delà. Cette valeur est stockée dans la variable MultiMeasureRest.expand-limit et peut être modifiée.</p>
<pre><code>{</code><br><code>  \time 4/4 \compressMMRests { R1*3 R1*7 R1*12 } \break</code><br><code>  \override MultiMeasureRest.expand-limit = #2</code><br><code>  \compressMMRests { R1*3 R1*7 R1*12 } </code><br><code>}</code></pre>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/14/document-4.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/14/responsive/document-4-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/14/responsive/document-4-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/14/responsive/document-4-md.png 768w"  alt="MultiMeasureRest.expand-limit" width="1176" height="267"></figure>
<p>Il est possible grâce à une fonction supplémentaire d'indiquer la durée au milieu de la portée dégageant ainsi l'espace au dessus de celle-ci. Cette manière de faire, utilisée notamment  dans les real books, peut rendre plus lisibles d'éventuels textes au dessus du silence.  Cette  fonction due à Robin Bannister est décrite <a title="https://lsr.di.unimi.it/LSR/Item?id=753">ici</a>. Elle est également incluse dans le fichier  jazzextras.ily du projet <a href="https://github.com/OpenLilyPondFonts/lilyjazz">lilyjazz</a>.</p>
<pre><code>\version "2.22.1"</code><br><br><code>\paper { </code><br><code>  indent = #0 </code><br><code>  ragged-last = ##f</code><br><code>}</code><br><br><code>#(define (white-under grob) (grob-interpret-markup grob </code><br><code>                                                   (markup #:vcenter #:whiteout #:pad-x 1 (ly:grob-property grob 'text))))</code><br><br><code>inlineMMRN = {</code><br><code>  \once \override MultiMeasureRest.layer = #-2</code><br><code>  \once \override MultiMeasureRestNumber.layer = #-1</code><br><code>  \once \override MultiMeasureRestNumber.Y-offset = #0</code><br><code>  \once \override MultiMeasureRestNumber.stencil = #white-under</code><br><code>}</code><br><br><br><code>{ </code><br><code>  \compressMMRests { </code><br><code>    \override MultiMeasureRest #'expand-limit = #3</code><br><code>    \repeat volta 2 {</code><br><code>      s1*0_\markup \pad-around #0.5 { \italic { affichage standard } }</code><br><code>      R1*30^\markup { [SOLOS] } }</code><br><code>    \repeat volta 2 {</code><br><code>      s1*0_\markup \pad-around #0.5 { \italic { avec inlineMMRN } }</code><br><code>      \inlineMMRN R1*30^\markup { [SOLOS] } }</code><br><code>  }</code><br><code>}</code></pre>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/14/document.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/14/responsive/document-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/14/responsive/document-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/14/responsive/document-md.png 768w"  alt="InlineMMRN" width="1167" height="171"></figure>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Barres de reprises style Realbook</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/barres-de-reprises-style-realbook.html"/>
        <id>https://myrealbook.vintherine.org/barres-de-reprises-style-realbook.html</id>

        <updated>2021-09-26T11:33:54+02:00</updated>
            <summary>
                <![CDATA[
                    <p>Deux points distinguent la manière dont sont présentées les reprises dans les realbooks par rapport au traitement par défaut de Lilypond :</p>
<ol>
<li>les barres de reprises sont imprimées avec des crochets</li>
<li>Une barre de reprise est imprimé même au début de la partition</li>
</ol>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/13/Reprises.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/13/responsive/Reprises-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/13/responsive/Reprises-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/13/responsive/Reprises-md.png 768w"  alt="" width="1350" height="312"></figure>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Deux points distinguent la manière dont sont présentées les reprises dans les realbooks par rapport au traitement par défaut de Lilypond :</p>
<ol>
<li>les barres de reprises sont imprimées avec des crochets</li>
<li>Une barre de reprise est imprimé même au début de la partition</li>
</ol>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/13/Reprises.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/13/responsive/Reprises-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/13/responsive/Reprises-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/13/responsive/Reprises-md.png 768w"  alt="" width="1350" height="312"></figure>

<p>Pour le premier point il faut changer dans le contexte score les valeurs par défaut. Il faut également créer la combinaison double barre / saut de ligne / début de reprise pour remplacer le <code>".|:-||"</code> par défaut </p>
<pre><code>\layout {</code><br><code>  \context {</code><br><code>    \Score</code><br><code>    %% Changing the defaults from engraver-init.ly</code><br><code>    startRepeatType = #"[|:"</code><br><code>    endRepeatType = #":|]"</code><br><code>    doubleRepeatType = #":|][|:"</code><br><code>  }</code><br><code>}</code><br><code>\defineBarLine "||-[|:" #'("||" "[|:" "[|:") </code></pre>
<p>Pour le deuxième point c'est un peu plus compliqué : il faudra d'abord coller la fonction suivante :</p>
<pre><code>showStartRepeatBar = {</code><br><code>  \once \override Score.BreakAlignment.break-align-orders =</code><br><code>        #(make-vector 3 '(instrument-name</code><br><code>                          left-edge</code><br><code>                          ambitus</code><br><code>                          breathing-sign</code><br><code>                          clef</code><br><code>                          key-signature</code><br><code>                          time-signature</code><br><code>                          staff-bar</code><br><code>                          custos))</code><br><code>      \once \override Staff.TimeSignature.space-alist =</code><br><code>        #'((first-note . (fixed-space . 2.0))</code><br><code>           (right-edge . (extra-space . 0.5))</code><br><code>           ;; free up some space between time signature</code><br><code>           ;; and repeat bar line</code><br><code>           (staff-bar . (extra-space . 1)))</code><br><code>}</code></pre>
<p>puis y faire appel au début de la musique.  Notez que cette fonction est incluse dans le fichier jazzextras.ily du projet <a href="https://github.com/OpenLilyPondFonts/lilyjazz">lilyjazz</a>. Si vous avez installé ce dernier il suffit d'y faire référence par <code>\include "jazzextras.ily"</code></p>
<p>Le code complet (supprimez la ligne <code>\include "lilyjazz.ily"</code> si lilyjazz n'est pas installé)</p>
<pre><code>\version "2.22.1"</code><br><code>\include "lilyjazz.ily"</code><br><code>%\include "jazzextras.ily"</code><br><br><code>showStartRepeatBar = {</code><br><code>  \once \override Score.BreakAlignment.break-align-orders =</code><br><code>        #(make-vector 3 '(instrument-name</code><br><code>                          left-edge</code><br><code>                          ambitus</code><br><code>                          breathing-sign</code><br><code>                          clef</code><br><code>                          key-signature</code><br><code>                          time-signature</code><br><code>                          staff-bar</code><br><code>                          custos))</code><br><code>      \once \override Staff.TimeSignature.space-alist =</code><br><code>        #'((first-note . (fixed-space . 2.0))</code><br><code>           (right-edge . (extra-space . 0.5))</code><br><code>           ;; free up some space between time signature</code><br><code>           ;; and repeat bar line</code><br><code>           (staff-bar . (extra-space . 1)))</code><br><code>}</code><br><br><code>\layout {</code><br><code>  \context {</code><br><code>    \Score</code><br><code>    %% Changing the defaults from engraver-init.ly</code><br><code>    startRepeatType = #"[|:"</code><br><code>    endRepeatType = #":|]"</code><br><code>    doubleRepeatType = #":|][|:"</code><br><code>  }</code><br><code>}</code><br><code>\defineBarLine "||-[|:" #'("||" "[|:" "[|:") </code><br><br><code>\relative c'{</code><br><code>  \showStartRepeatBar \bar "[|:"  </code><br><code>\repeat volta 2 { </code><br><code>\repeat unfold 2 c1 }</code><br><code>  </code><br><code>\repeat volta 2 { </code><br><code>\repeat unfold 2 c }</code><br><code>  \alternative {</code><br><code>    { c }</code><br><code>    {</code><br><code>      c</code><br><code>    }</code><br><code>  }</code><br><code>  \bar "||-[|:" \break</code><br><code>  \repeat volta 2 { </code><br><code>\repeat unfold 2 c1 }</code><br><code>\repeat unfold 2 c1  </code><br><code>  \bar "|."</code><br><code>}</code></pre>
            ]]>
        </content>
    </entry>
    <entry>
        <title>À propos du blog (avertissement, hébergement, outils)</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/a-propos-du-blog-avertissement-outils-hebergement.html"/>
        <id>https://myrealbook.vintherine.org/a-propos-du-blog-avertissement-outils-hebergement.html</id>

        <updated>2021-09-22T18:10:49+02:00</updated>
            <summary>
                <![CDATA[
                    Avertissement Ce blog est essentiellement le reflet de mon activé en matière&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <h3>Avertissement</h3>
<p>Ce blog est essentiellement le reflet de mon activé en matière d'édition de partitions de jazz avec Lilypond pour laquelle je note quelques trucs et astuces. C'est donc tout à la fois un pense-bête personnel et un lieu de partage de mes maigres compétences. À ce titre j'attire l'attention du lecteur sur le fait que ce site ne peut en aucun cas remplacer la <a href="https://lilypond.org/manuals.fr.html">documentation officielle de Lilypond</a>. En complément je lui recommande chaudement de s'inscrire à la <a href="https://lists.gnu.org/mailman/listinfo/lilypond-user-fr">mailing list des utilisateurs francophone de Lilypond</a>  où il pourra correspondre avec de nombreux interlocuteurs compétents et d'une extraordinaire disponibilité. </p>
<h3>Hébergement</h3>
<p>Ce site est hébergé sur <a href="https://github.com/">Github</a>, qui est un service web collaboratif d'hébergement et de gestion de développement de logiciels, utilisant le logiciel de gestion de versions <a href="https://git-scm.com/">Git</a>. Même s'il est surtout connu pour ses hébergements de projets de logiciels libre il permet également, sous certaines conditions, d'héberger des sites web statiques : <a href="https://pages.github.com/">voir ici</a>. </p>
<p>À noter que depuis l'acquisition de Github par Microsoft en 2018 deux cas de fermetures de compte liés à des problèmes de DRM (Youtube-dl, Widevine) ont provoqués un certain trouble dans la communauté des libristes. Dans ce contexte utiliser Github pour partager des partitions peut ne pas être une solution très indiquée. Peut-être devrais-je migrer sur <a href="https://docs.gitlab.com/ee/user/project/pages/">Gitlab</a> ? En attendant je me suis contenté de demander aux moteurs de recherche de ne pas l'indexer (NoIndex NoFollow) ce qui en restreint la diffusion au seul bouche à oreilles.</p>
<h3>Outils</h3>
<p>Quand on pense aux systèmes de gestion de contenu web on pense d'abord à des gros projets tels Wordpress, Dotclear, Drupal... tous basés sur php et une base de donnée. Pourtant faire un site web statique est une idée qui refait son chemin aujourd'hui : plus rapide, plus économique, plus écologique, moins sujet aux bugs et au piratage... Et même s'ils sont moins connus que les géants évoqués ci-dessus existent d’excellents générateurs de sites statiques tels <a href="https://jekyllrb.com/">Jekyll</a>, <a href="https://gohugo.io/">Hugo</a>, <a href="https://blog.getpelican.com/">Pelican</a>... Après en avoir testé quelques-uns j'ai choisi <a href="https://getpublii.com/">Publii</a> qui m'a semblé être le plus facile à prendre en main grâce à son interface graphique. Et bien sûr il gère parfaitement les mises à jour sur Github ou Gitlab.</p>
<p>Les pages relatives aux partitions sont générés et mises à jour automatiquement par un petit script bash à base de grep et de sed, qui extrait des données des fichiers Lilypond puis les colle dans une page modèle réalisé avec Publii. </p>
<p> </p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>À propos de moi (et comment me contacter)</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/a-propos-de-moi-et-comment-me-contacter.html"/>
        <id>https://myrealbook.vintherine.org/a-propos-de-moi-et-comment-me-contacter.html</id>

        <updated>2021-09-20T18:42:48+02:00</updated>
            <summary>
                <![CDATA[
                    Je m'appelle Vincent Gay, je suis un musicien amateur (saxophone, clarinette, guitare&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Je m'appelle Vincent Gay, je suis un musicien amateur (saxophone, clarinette, guitare basse...) et j'habite un petit village de montagne dans le sud de l'<a href="https://fr.wikipedia.org/wiki/Is%C3%A8re_(d%C3%A9partement)">Isère</a> (France) tout près du <a href="https://fr.wikipedia.org/wiki/Parc_national_des_%C3%89crins">parc national des Écrins</a>. </p>
<p>Pour me contacter à propos de ce site ou des partitions qu'il contient vous pouvez m'écrire à myrealbook à vintherine point org</p>
<p>S'il s'agit de questions questions concernant Lilypond je suis également contributeur occasionnel sur la <a href="https://lists.gnu.org/mailman/listinfo/lilypond-user-fr">liste des utilisateurs francophones de Lilypond</a>.</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>À propos des logiciels d&#x27;éditions utilisés</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/a-propos-des-logiciels-deditions-utilises.html"/>
        <id>https://myrealbook.vintherine.org/a-propos-des-logiciels-deditions-utilises.html</id>

        <updated>2021-09-22T14:30:25+02:00</updated>
            <summary>
                <![CDATA[
                    Propos liminaires tous les logiciels évoqués ci-dessous sont des logiciels libres au&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <h3>Propos liminaires</h3>
<p>tous les logiciels évoqués ci-dessous sont des logiciels libres au sens de la Free Software Foundation. Voir <a href="https://www.fsf.org/">ici</a> ou <a href="https://fr.wikipedia.org/wiki/Logiciel_libre">là</a>. </p>
<h3 id="toc_lilypond">Lilypond</h3>
<p>Bien loin des clicodromes standards, <a href="http://lilypond.org/index.fr.html" target="_blank" rel="noopener noreferrer">Lilypond</a> est un langage descriptif permettant de produire un fichier source qui sera ensuite compilé. Il faut donc apprendre une syntaxe et de nombreuses règles… qui sont susceptibles d'évoluer d'une version à l'autre.</p>
<p>Pour faire court, l'intérêt principal que je trouve à Lilypond, c'est de pouvoir faire exactement ce que je veux avec une qualité de sortie irréprochable.  Comme par exemple ceci :</p>
<figure class="post__image" ><img loading="lazy" src="https://myrealbook.vintherine.org/media/posts/6/5f47fa692c1c4928bc7ef664202204a5.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/6/responsive/5f47fa692c1c4928bc7ef664202204a5-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/6/responsive/5f47fa692c1c4928bc7ef664202204a5-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/6/responsive/5f47fa692c1c4928bc7ef664202204a5-md.png 768w"  alt="" width="1523" height="426">
<figcaption >Breakfast Wine (Randy Aldcroft)</figcaption>
</figure>
<p>ou ceci :</p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org//media/posts/6/1f9ff908e3cd4be0a0d2079238bf8f0b-4.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org//media/posts/6/responsive/1f9ff908e3cd4be0a0d2079238bf8f0b-4-xs.png 300w ,https://myrealbook.vintherine.org//media/posts/6/responsive/1f9ff908e3cd4be0a0d2079238bf8f0b-4-sm.png 480w ,https://myrealbook.vintherine.org//media/posts/6/responsive/1f9ff908e3cd4be0a0d2079238bf8f0b-4-md.png 768w"  alt="" width="1517" height="588"></figure>
<h3 id="toc_frescobaldi">Frescobaldi</h3>
<p>Pour utiliser Lilypond il suffit, a priori, d'un éditeur de texte, d'un terminal et d'une visionneuse poscript/pdf pour voir le résultat. Optionnellement, un lecteur midi car Lilypond sait aussi produire du midi. Par bonheur il exite un logiciel qui permet de faire tout ceci dans la même fenêtre, <a href="http://frescobaldi.org/">Frescobaldi</a>.</p>
<p>C'est un éditeur de texte dédié à LilyPond, avec coloration syntaxique, visionneuse PDF et lecteur midi intégrés. La fonction « point and click » permet de rapidement retrouver la correspondance entre le PDF et le code, et ce dans les deux sens. Quelques palettes d'outils permettent un accès rapide à des symboles dont on aurait oublié la syntaxe et on peut afficher la documentation Lilypond à partir d'un emplacement local ou d'une URL. Les différents panneaux qui le composent peuvent être ancrés à la fenêtre principale ou détachés, ce qui est bien pratique quand on a un double écran. Il ne fait pas le café, c'est à mes yeux son seul défaut. </p>
<h3 id="toc_lilyjazz">LilyJazz et autres fichiers inclus</h3>
<p>Coté look and file j'ai trouvé amusant d'imiter le style Real Book grace au projet <a href="https://github.com/OpenLilyPondFonts/lilyjazz" target="_blank" rel="noopener noreferrer">LilyJazz</a>. Il vous faudra copier les polices dans le répertoire fonts de Lilypond et ce à chaque changement de version (oui, c'est pénible) et indiquer à Frescobaldi ou trouver les feuilles de style ( Menu Édition -&gt; Préférences -&gt; Préférences de Lilypond -&gt; Emplacement d'inclusion Lilypond). Comme j'ai personnalisé ces fichiers et en ai rajouté quelques autres j'ai tout mis dans <a href="https://myrealbook.vintherine.org/media/files/Inclusions.zip">un zip disponible ici</a>. Libre à vous de ne pas les utiliser mais il vous faudra nettoyer le code avant compilation ou subir des messages d'erreur.</p>
<h3>Musescore</h3>
<p>Pour dégrossir une partition, un arrangement ou pour composer j'utilise <a href="https://musescore.org/fr">Musescore</a> qui est un logiciel d'édition de partitions WISIWIG puissant et facile à utiliser. Il est possible d'importer ou exporter au format MusixXML ce qui permet de faire le lien avec Lilypond.</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Glissandi et bends</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/glissandi-et-bends.html"/>
        <id>https://myrealbook.vintherine.org/glissandi-et-bends.html</id>

        <updated>2021-09-26T11:37:51+02:00</updated>
            <summary>
                <![CDATA[
                    <h4>Les Glissandi</h4>
<figure class="post__image">Par défaut les glissandi de Lilypond sont rectilignes et relient obligatoirement deux notes.<br><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/8//GlissandiClassiques.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/8//responsive/GlissandiClassiques-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/8//responsive/GlissandiClassiques-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/8//responsive/GlissandiClassiques-md.png 768w"  alt="" width="418" height="131"></figure>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <h4>Les Glissandi</h4>
<figure class="post__image">Par défaut les glissandi de Lilypond sont rectilignes et relient obligatoirement deux notes.<br><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/8//GlissandiClassiques.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/8//responsive/GlissandiClassiques-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/8//responsive/GlissandiClassiques-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/8//responsive/GlissandiClassiques-md.png 768w"  alt="" width="418" height="131"></figure>

<p>De nos jours les glissandi sont plus souvent représentés par un zig-zag et la note d'arrivée n'est pas nécessairement présente. <figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/8//GlissandiModernes.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/8//responsive/GlissandiModernes-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/8//responsive/GlissandiModernes-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/8//responsive/GlissandiModernes-md.png 768w"  alt="" width="641" height="129"></figure>
<p>Pour la forme il suffit d'un <code>\override Glissando.style = #'zigzag</code> dans le <code>/score</code> ou mieux dans un <code>\layout</code>. Quant à la note d'arrivée il faudra la masquer.</p>

<p>La solution proposée dans la <a href="http://lilypond.org/doc/v2.19/Documentation/notation/expressive-marks-as-lines">documentation</a> est d'utiliser une note cachée dans une cadence avec les inconvénients suivants : du fait de la cadence le décompte de la mesure ne sera pas incrémentée (le rectifier avec <code>\set Score.currentBarNumber = #[N° de la mesure]</code>). il faudra également gérer les autres voix éventuelles et les ligatures ([ et ] derrière les notes concernées). </p>
<pre><code>\version "2.22.1"</code><br><br><code>\relative c'' {</code><br><code>  \time 3/4</code><br><code>  \override Glissando.style = #'zigzag</code><br><code>  c4 c</code><br><code>  \cadenzaOn</code><br><code>  c4\glissando</code><br><code>  \hideNotes</code><br><code>  c,4</code><br><code>  \unHideNotes</code><br><code>  \cadenzaOff</code><br><code>  \bar "|"</code><br><code>}</code></pre>
<figure class="post__image"><img loading="lazy"  src="media/posts/8/GlissandiDoc.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="media/posts/8/responsive/GlissandiDoc-xs.png 300w ,media/posts/8/responsive/GlissandiDoc-sm.png 480w ,media/posts/8/responsive/GlissandiDoc-md.png 768w"  alt="" width="325" height="139"></figure>
<p>Pour ma  part je préfère passer par une <code>\afterGrace</code> ce qui évite les désagréments évoqués plus haut.</p>
<pre><code>\version "2.22.1"</code><br><br><code>\layout {</code><br><code>  \context {</code><br><code>    \Score</code><br><code>    \override Glissando.style = #'zigzag</code><br><code>    \override Glissando.minimum-length = #4</code><br><code>    \override Glissando.springs-and-rods = #ly:spanner::set-spacing-rods</code><br><code>  }</code><br><code>}</code><br><br><code>\relative c'' {</code><br><code>  c2 \afterGrace c \glissando { \hideNotes c,8 \unHideNotes } |</code><br><code>  \afterGrace c'2 \glissando { \hideNotes c,8 \unHideNotes } r2 |</code><br><code>  \afterGrace g' \glissando { \hideNotes g'8 \unHideNotes } r2</code><br><code>}</code></pre>
<figure class="post__image"><img loading="lazy"  src="media/posts/8/GlissandiModernes.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="media/posts/8/responsive/GlissandiModernes-xs.png 300w ,media/posts/8/responsive/GlissandiModernes-sm.png 480w ,media/posts/8/responsive/GlissandiModernes-md.png 768w"  alt="" width="641" height="129"></figure>
<p>Notez dans le <code>\layout</code> les instructions  <code>\override Glissando.minimum-length = #4</code> et <code>\override Glissando.springs-and-rods = #ly:spanner::set-spacing-rods</code> sans lesquels la longueur du glissando serait limitée à l'espace entre la note et l'afterGrace. Une alternative serait de définir afterGraceFraction en proportion de la note principale.<a href="http://lilypond.org/doc/v2.19/Documentation/notation/special-rhythmic-concerns.fr.html#grace-notes">Voir la documentation ici</a>.</p>
<h3>Les bends</h3>
<p>Lilypond utilise les sauts et chutes <strong>après</strong> une note avec la commande <code>\bendAfter #±VALEUR</code>, où valeur est positive pour une courbe vers le haut et négative pour une courbe vers le bas</p>
<pre><code>\version "2.22.1" </code><br><br><code>\relative c'' { </code><br><code>  c2\bendAfter #+4 </code><br><code>  c2\bendAfter #-4 </code><br><code>  c2\bendAfter #+6.5 </code><br><code>  c2\bendAfter #-6.5 </code><br><code>  c2\bendAfter #+8 </code><br><code>  c2\bendAfter #-8</code><br><code>}</code></pre>
<figure class="post__image"><img loading="lazy"  src="media/posts/8/BendAfter.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="media/posts/8/responsive/BendAfter-xs.png 300w ,media/posts/8/responsive/BendAfter-sm.png 480w ,media/posts/8/responsive/BendAfter-md.png 768w"  alt="" width="536" height="138"></figure><br>Malheureusement pas de bendBefore ! Si ce n'est en utilisant un <code>\markup</code> crée par ces deux petites fonctions, scoopH et scoopB</p>
<pre><code>\version "2.22.1"</code><br><br><code>#(define (scoop-stencil grob)</code><br><code>   (ly:stencil-add</code><br><code>    (ly:note-head::print grob)</code><br><code>    (grob-interpret-markup grob</code><br><code>                           (markup #:with-dimensions '(0 . 0) '(0 . 0)</code><br><code>                                   #:translate '(-0.2 . -0.5)</code><br><code>                                   #:path 0.25 '((moveto -0.2 0.5)</code><br><code>                                                 (curveto 0.2 2 -1.2 2.5 -1.7 2.5))))))</code><br><code>scoopH = \once \override NoteHead #'stencil = #scoop-stencil</code><br><br><code>#(define (scoop-stencil grob)</code><br><code>   (ly:stencil-add</code><br><code>    (ly:note-head::print grob)</code><br><code>    (grob-interpret-markup grob</code><br><code>                           (markup #:with-dimensions '(0 . 0) '(0 . 0)</code><br><code>                                   #:translate '(-0.2 . -0.5)</code><br><code>                                   #:path 0.25 '((moveto 0 0)</code><br><code>                                                 (curveto 0.2 -1 -1.2 -1.5 -1.7 -1.5))))))</code><br><code>scoopB = \once \override NoteHead #'stencil = #scoop-stencil</code><br><br><code>\relative c'' {</code><br><code>  \scoopH c2 \scoopB c2</code><br><code>}</code></pre>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/8/scoop-md.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/8/responsive/scoop-md-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/8/responsive/scoop-md-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/8/responsive/scoop-md-md.png 768w"  alt="Scoops" width="267" height="120"></figure><figure class="post__image"><img loading="lazy"  src="media/posts/8/scoop.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="media/posts/8/responsive/scoop-xs.png 300w ,media/posts/8/responsive/scoop-sm.png 480w ,media/posts/8/responsive/scoop-md.png 768w"  alt="" width="267" height="120"></figure>
<p>Cette fonction est adaptée de <a href="https://lists.gnu.org/archive/html/lilypond-user/2014-01/msg01200.html">ce message</a> sur la liste lilypond-user. </p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Répétitions avec fins alternatives</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/repetitions-avec-fins-alternatives.html"/>
        <id>https://myrealbook.vintherine.org/repetitions-avec-fins-alternatives.html</id>

        <updated>2021-09-26T12:32:24+02:00</updated>
            <summary>
                <![CDATA[
                    <p>Avec Lilypond les répétitions avec fins alternatives sont indiquées ordinairement de la manière suivante :</p>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Avec Lilypond les répétitions avec fins alternatives sont indiquées ordinairement de la manière suivante :</p>

<pre><code>\repeat volta x {</code><br><code> ... musique ...</code><br><code> }</code><br><code>\alternative {</code><br><code> { ... alternative 1 }</code><br><code> { ... alternative 2 }</code><br><code> { ... alternative x }</code><br><code> }</code></pre>
<p>Ce qui donnera par exemple quelque chose comme ceci :</p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/7/AlternatisesStandards.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/7/responsive/AlternatisesStandards-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/7/responsive/AlternatisesStandards-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/7/responsive/AlternatisesStandards-md.png 768w"  alt="" width="441" height="66"></figure>

<p>Il arrive toutefois que l'on soit amené à contrôler manuellement les indications de reprises. Prenons pour exemple le standart de Jazz <em><strong>Jeannine</strong></em> de Duke Pearson. C'est une pièce de la forme A1 A2 B A1. Imaginons que nous souhaitions indiquer la répétition sous la forme </p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/7/JeanineAlternatives.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/7/responsive/JeanineAlternatives-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/7/responsive/JeanineAlternatives-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/7/responsive/JeanineAlternatives-md.png 768w"  alt="" width="1288" height="197"></figure>
<p>avec barre de reprise en fin de B. Avec la formulation standard nous nous heurterions à la double difficulté suivante :</p>
<ul>
<li>l'ordre retenu par défaut serait [ 1 &amp; 2 ] [ 3     ]</li>
<li>il ne serait pas possible de rajouter une indication textuelle. </li>
</ul>
<p><strong>[EDIT] Sur la <a href="https://lists.gnu.org/mailman/listinfo/lilypond-user-fr">mailing list des utilisateurs francophone de Lilypond</a> j'ai reçu de Jean Abou Samra une solution beaucoup plus simple et élégante que celle que j’utilisais jusqu'à présent. C'est cette nouvelle solution que je décris ci-dessous, l'ancienne étant pour archive à la fin de ce post. </strong></p>
<p>Dans la version 2.22 il est possible de modifier le texte des alternatives avec la commande <code>\overrideProperty Score.VoltaBracket.text [\markup]</code>. <strong>Attention</strong> : dans les futures versions (c'est déjà vrai dans la version de développement 2.23) cette commande deviendra plus simplement <code>\once \override Score.VoltaBracket.text <strong>=</strong> [\markup]</code> (attention au signe =).</p>
<p>Voici un exemple minimaliste :</p>
<pre><code>\version "2.22.1"</code><br><br><code>voltaAdLib = \markup { 1. 2. 3… \italic \text "ad lib." }</code><br><code>voltaOnCue = \markup \small \with-color "red" \italic \text "On Cue"</code><br><br><code>\relative c'' {</code><br><code>  c4 c c c</code><br><code>  \repeat volta 2 {</code><br><code>    c4 c c c</code><br><code>  }</code><br><code>  \alternative {</code><br><code>    {</code><br><code>      \overrideProperty Score.VoltaBracket.text \voltaAdLib</code><br><code>      c4 c c c</code><br><code>    }</code><br><code>    {</code><br><code>      \overrideProperty Score.VoltaBracket.text \voltaOnCue</code><br><code>      c1</code><br><code>    }</code><br><code>  }</code><br><code>} </code></pre>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/7/OnCue.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/7/responsive/OnCue-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/7/responsive/OnCue-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/7/responsive/OnCue-md.png 768w"  alt="" width="823" height="157"></figure>
<p>Voici pour finir le code complet de <strong>Jeannine</strong> :  </p>
<pre>\version "2.22.1"<br><br>\paper {<br>  indent = 0\mm<br>  markup-system-spacing = #'((basic-distance . 20)<br>                             (minimum-distance . 8)<br>                             (padding . 1))<br>}<br><br>\header {<br>  title = Jeannine<br>  composer = "Duke Pearson"<br>  poet = "Med. Up Swing"<br>  tagline = ##f<br>}<br><br>theChords = \chordmode {<br>  \set chordChanges = ##t<br>  as1*4:m7 as:m7 fis1:m7<br>  b1:7 e:7+ a:7 bes:m7 es:9+ as1:7+ es:9+<br>  as:7+ es2:m7 as:7<br>  des1:7+ g2:m5-7 c:7 f1*2:7+ f1:m7 bes:7 bes:m7 es:7<br>}<br><br>voltaOne = \markup { 1 \text { &amp; } 3 \text \fontsize #4 \with-color #red \italic { " (fine)" }}<br><br><br>theNotes = \relative c'' {<br>  \set Score.markFormatter = #format-mark-box-alphabet<br>  \clef "treble" \key as \major \time 4/4 \mark #1<br>  \repeat volta 2 {<br>    r8 es4-. r8 es4-. r | r8 es4-. r8 es4-. f-.<br>    ges--( f8 es ~ es2 ~ | es1) \break<br>    r8 es4-. r8 es4-. r | r8 es4-. r8 es4-. f-.<br>    ges-- f8 es ~ es2 ~ | es r8 c des as' ~ \break<br>    as4. e8-. r des4-. a8 | as'!4-- g8 ges-&gt; ~ ges as ges b-&gt; ~<br>    b2 ~ b8 bes b ges-&gt; ~ | ges2. e8 es~ \break |<br>    es4. es8 r2 | r8 bes( \times 2/3 { c des es } ges4 e8 es) ~ |<br>  }<br>  \alternative {<br>    {<br>      \overrideProperty Score.VoltaBracket.text \voltaOne<br>      es1 ~ | es1<br>    }<br>    {<br>      es2 \repeatTie \times 2/3 { es4 c es } f2 es<br>      \bar "||" \break \mark #2<br>      as,2 ~ as8( bes \times 2/3 { c des es } |<br>      f4-.) r8 g-&gt;~g( f g a-&gt;) ~<br>      a1 | r8 e4.-&gt; \times 2/3 { f4 g a } \break<br>      as?2 \times 2/3 { as4 g as } | bes2 f |<br>      bes1 ~ | bes2. r4 \bar ":|."<br>    }<br>  }<br>}<br><br>\score {<br>  &lt;&lt;<br>    \new ChordNames \theChords<br>    \new Staff \theNotes<br>  &gt;&gt;<br>}</pre>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/7/jeannine.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/7/responsive/jeannine-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/7/responsive/jeannine-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/7/responsive/jeannine-md.png 768w"  alt="" width="1585" height="1090"></figure>
<p>Voici donc comment je procédais avant le message de Jean : plutôt que d'utiliser la commande normale \repeat volta 2 j'utilisais des instructions explicites qui agissent sur la propriété Score.repeatCommands : </p>
<ul>
<li><code>\set Score.repeatCommands = #'(start-repeat)</code> imprime la barre de début de répétition (équivalent à \bar ".|:" ou à \bar "[|:")</li>
<li><code>\set Score.repeatCommands = #'(end-repeat)</code> imprime la barre de fin de répétition (équivalent à \bar ";|." ou à \bar ":|]")</li>
<li><code>\set Score.repeatCommands = #'((volta #f))</code> interrompt le crochet d'alternative. Si Lilypond ne trouve pas de fin d'alternative (volta #f ou accolade } de l'instruction ordinaire d'alternative) le crochet ne sera pas imprimé.</li>
<li><code>\set Score.repeatCommands = #'((volta "1"))</code> indique le numéro de l'alternative. il peut être multiple, par ex. #'((volta "1, 2")) ou #'((volta "5, 34")). </li>
<li>Il est possible de mixer plusieurs instructions en une seule commande. Par exemple  <code>\set Score.repeatCommands = #'((volta #f) (volta "2") end-repeat)</code> termine le crochet, ouvre le crochet de l'alternative suivante et imprime la barre de reprise.</li>
<li>Pour intégrer des indications textuelles il faut préalablement définir celles-ci dans un markup puis les intégrer par la comande <code>\set Score.repeatCommands = #(list(list 'volta le_markup))</code>. Par exemple :</li>
</ul>
<pre><code>\version "2.22.1"</code><br><br><code>voltaAdLib = \markup { 1. 2. 3... \text \italic { ad lib. } }</code><br><code>voltaOnCue= \markup \small \with-color #(x11-color 'red) { \text \italic { On Cue } }</code><br><br><code>\relative c'' {</code><br><code> c4 c c c</code><br><code> \set Score.repeatCommands = #'(start-repeat)</code><br><code> c4 c c c </code><br><code> \set Score.repeatCommands = #(list(list 'volta voltaAdLib))</code><br><code> c4 c c c</code><br><code> \set Score.repeatCommands = #(list '(volta #f) (list 'volta voltaOnCue) 'end-repeat)</code><br><code> c1</code><br><code> \set Score.repeatCommands = #'((volta #f))</code><br><code>}</code></pre>
<p> </p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Lilypond : indications rythmiques</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/lilypond-indications-rythmiques.html"/>
        <id>https://myrealbook.vintherine.org/lilypond-indications-rythmiques.html</id>

        <updated>2021-09-26T11:40:17+02:00</updated>
            <summary>
                <![CDATA[
                    <p>Lylipond dispose d'une instruction pour transformer les têtes de notes en formes de "slashes". Cela indique ordinairement une section où le musicien est libre de jouer les notes qu'il veut à condition de respecter le rythme. Par exemple :</p>
<p><img loading="lazy" src="http://lilypond.org/doc/v2.19/Documentation/3b/lily-25cb0b78.png" data-is-external-image="true"  alt="[image of music]" align="middle" border="0"></p>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Lylipond dispose d'une instruction pour transformer les têtes de notes en formes de "slashes". Cela indique ordinairement une section où le musicien est libre de jouer les notes qu'il veut à condition de respecter le rythme. Par exemple :</p>
<p><img loading="lazy" src="http://lilypond.org/doc/v2.19/Documentation/3b/lily-25cb0b78.png" data-is-external-image="true"  alt="[image of music]" align="middle" border="0"></p>

<p>ce qui s'obtient par le code :</p>
<pre><code>\new Voice \with { \consists "Pitch_squash_engraver" } </code><br><code>\relative { </code><br><code>  e''8 e g a a16( bes) a8 g </code><br><code>  \improvisationOn e8 ~ 2 ~ 8 f4 f8 ~ 2 </code><br><code>  \improvisationOff a16( bes) a8 g e </code><br><code>}</code></pre>
<p>La section est limitée par <code>\improvisationOn ../.. \improvisation\Off</code></p>
<p>Par ailleurs c'est le contexte <code>\consists "Pitch_squash_engraver"</code> qui permet que toutes les notes s'affichent au centre de la portée. En son absence les notes s'afficheraient à leur emplacement ordinaire.</p>
<p>Ce type de notation est fréquemment utilisé en jazz pour la mise en place de tout ou partie de la section rythmique, ici dans la voix basse :</p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/5/729313fb13a2421f812e5632ae41638a.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/5/responsive/729313fb13a2421f812e5632ae41638a-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/5/responsive/729313fb13a2421f812e5632ae41638a-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/5/responsive/729313fb13a2421f812e5632ae41638a-md.png 768w"  alt="" width="1084" height="220"></figure>
<p>Le code :</p>
<pre><code>\version "2.22.1"</code><br><br><code>#(set-global-staff-size 18)</code><br><code>\include "jazzchords.ily"</code><br><code>\include "lilyjazz.ily"</code><br><code>\include "jazzextras.ily"</code><br><br><br><code>theNotes = \relative c'' {</code><br><code> \clef "treble" \key bes \major \time 4/4</code><br><code> \override Rest #'staff-position = #0</code><br><code> r2 r8 es c4-. | bes2 es | a g | es4-. r ^\markup \small "Solo break..." r2</code><br><code>}</code><br><br><code>Rythme= \relative c' {</code><br><code> \improvisationOn</code><br><code> \override NoteHead.no-ledgers = ##t % pas de lignes additionelles</code><br><code> \override Rest #'staff-position = #-6 % position des silences</code><br><code> c4. 8~ 4 4 | r4 8 r8 2 | 2 2 | s1 </code><br><code>}</code><br><br><code>harmonies = \chordmode {</code><br><code> f4.:8 bes:13 bes/as g:8 c2:8 f:8 bes:9-13 es:6.9</code><br><code>}</code><br><br><code>\score {</code><br><code> &lt;&lt;</code><br><code> \new ChordNames {</code><br><code> \set chordChanges = ##t</code><br><code> \harmonies</code><br><code> }</code><br><code> \new Staff &lt;&lt;</code><br><code> \theNotes \\ \Rythme</code><br><code> &gt;&gt; &gt;&gt;</code><br><code>}</code></pre>
<p>On notera :</p>
<ul>
<li>l'absence de <code>\consists "Pitch_squash_engraver"</code> dans la voix rythmique et donc le positionnement des notes en fonction de leur valeur</li>
<li>le positionnement manuel des silences grâce à l'instruction <code>\override Rest #'staff-position</code> dans les deux voix </li>
</ul>
<p>Pour passer la voix en haut changer la valeur de <code>Rest #'staff-position</code> dans Rythme ( par exemple #6) et inverser les 2 voix <code class="inline-code">\Rythme \\ \theNotes</code></p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/5/3303fb7dc05041ce9e95b34b60fe1aea.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/5/responsive/3303fb7dc05041ce9e95b34b60fe1aea-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/5/responsive/3303fb7dc05041ce9e95b34b60fe1aea-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/5/responsive/3303fb7dc05041ce9e95b34b60fe1aea-md.png 768w"  alt="" width="1529" height="191"> </figure>
<p>Dans l'exemple qui suit la ligne de basse est totalement écrite et seul le rythme est indiqué pour le piano (ou la guitare). Les temps non significatifs sont remplacés par des slashes obtenus en remplacement les soupirs (voir la fonction <code>comp</code> dans le code ci-dessous)</p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/5/8eca286f0b1e4b428d91a67f9ad15def.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/5/responsive/8eca286f0b1e4b428d91a67f9ad15def-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/5/responsive/8eca286f0b1e4b428d91a67f9ad15def-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/5/responsive/8eca286f0b1e4b428d91a67f9ad15def-md.png 768w"  alt="" width="1533" height="459"></figure>
<p>le code complet :</p>
<pre><code>\version "2.22.1"</code><br><br><code>#(set-global-staff-size 18)</code><br><code>\include "jazzchords.ily"</code><br><code>\include "lilyjazz.ily"</code><br><code>\include "jazzextras.ily"</code><br><br><code>comp = #(define-music-function (count) (integer?)</code><br><code>          #{</code><br><code>            \override Rest.stencil = #ly:percent-repeat-item-interface::beat-slash</code><br><code>            \override Rest.thickness = #0.48</code><br><code>            \repeat unfold $count { r4 }</code><br><code>            \revert Rest.stencil</code><br><code>          #}</code><br><code>          )</code><br><br><code>chordsRhythm = \relative c' {</code><br><code>  \override Rest #'staff-position = #8</code><br><code>  \improvisationOn \override NoteHead.no-ledgers = ##t</code><br><br><code>  \comp #3 e8 8~ | 4 \comp #3 | \comp #3 8 8~ | 4 \comp #3</code><br><code>  \comp #3 8 8~ | 4 8 8~ 4 \comp #3 r8 8 8 8~ | 4 \comp #3</code><br><code>}</code><br><br><code>Basse = \relative c {</code><br><code>  \override Rest #'staff-position = #0</code><br><code>  \clef "bass" \key as \major \time 4/4</code><br><code>  bes4 4 c8 4 des8~ | 2 r8 c f, c' | bes4 4 c8 4 des8~ | 4 r8 es16 e f c f,8 ~ 4 |</code><br><code>  bes4 4 c8 4 des8~ | 8 8 d es~ es4 g8 bes | as es as,4 8 g ges f8~ | 4. c'8 ges'4 f</code><br><code>}</code><br><br><code>harmonies = \chordmode {</code><br><code>  \set chordChanges = ##t</code><br><code>  bes2:m7 c4.:m7 des8:7+ s2 c:m7 bes2:m7 c4.:m7 des8:7+ s2 f:9+13-</code><br><code>  bes2:m7 c4.:m7 des8:7+ s2 es:7sus4 as:7+ s8 g:7 as:7/ges f:9- s1</code><br><code>}</code><br><br><code>\score {</code><br><code>  &lt;&lt;</code><br><code>    \new ChordNames { \harmonies }</code><br><code>    \new Staff \with {</code><br><code>      instrumentName = \markup {</code><br><code>        \column { "rhythm"</code><br><code>                  \line { "section" }</code><br><code>        }</code><br><code>      }</code><br><code>    }</code><br><code>    &lt;&lt;</code><br><code>      \chordsRhythm \\ \Basse</code><br><code>    &gt;&gt;</code><br><code>  &gt;&gt;</code><br><code>}</code><br><br></pre>
<p> </p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>À propos...</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/about.html"/>
        <id>https://myrealbook.vintherine.org/about.html</id>

        <updated>2021-09-23T10:22:51+02:00</updated>
            <summary>
                <![CDATA[
                    <p>À l'origine de ce site un simple besoin personnel de regrouper sur un support de type tablette (plus facile à transporter qu'une collection de <a href="https://fr.wikipedia.org/wiki/Real_Book_(jazz)">Real books</a>) toutes les partitions que je suis susceptible de jouer. </p>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>À l'origine de ce site un simple besoin personnel de regrouper sur un support de type tablette (plus facile à transporter qu'une collection de <a href="https://fr.wikipedia.org/wiki/Real_Book_(jazz)">Real books</a>) toutes les partitions que je suis susceptible de jouer. </p>

<p>Parmi mes contraintes :</p>
<ul>
<li>format paysage pour afficher des blocs de 4 mesures, même en cas de reprises avec alternatives.</li>
<li>limiter au maximum les changements de page sans pour autant perdre en lisibilité</li>
</ul>
<p>Assez vite j'ai eu à imprimer ces partitions pour d'autres musiciens en les transposant dans leur tonalité, généralement au format a4. Les sections rythmiques quand à elle me réclamaient ces fameuses <a href="https://fr.wikipedia.org/wiki/Grille_harmonique">grilles harmoniques</a> qui font - paraît-il - la spécificité du jazz français.</p>
<p>De fil en aiguille j'ai été amené à créer ce site pour </p>
<ul>
<li>Regrouper et rendre accessibles ces partitions</li>
<li>Partager quelques idées ou astuces liées à l'éditions des partitions de jazz</li>
</ul>
<p>Pour plus de détail je vous renvoies aux articles suivants :</p>
<ul>
<li><a href="https://myrealbook.vintherine.org/a-propos-de-moi-et-comment-me-contacter.html">À propos de moi (et comment me contacter)</a></li>
<li><a href="https://myrealbook.vintherine.org/sources.html" rel="nofollow">À propos des partitions et de leurs fichiers sources</a></li>
<li><a href="https://myrealbook.vintherine.org/a-propos-des-logiciels-deditions-utilises.html">À propos des outils d'éditions utilisé (Lilypond, Frescobaldi, MuseScore...)</a></li>
<li><a href="https://myrealbook.vintherine.org/a-propos-du-blog-avertissement-outils-hebergement.html">À propos du blog (avertissement, outils, hébergement)</a></li>
</ul>
<p>Enfin un grand merci aux nombreux contributeurs de la liste de discussion des utilisateurs francophones de Lilypond pour leurs encouragements, remarques et corrections.</p>
<p> </p>
<p> </p>
            ]]>
        </content>
    </entry>
</feed>
