<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title>MyRealBook</title>
    <link href="//myrealbook.vintherine.org/feed.xml" rel="self" />
    <link href="//myrealbook.vintherine.org" />
    <updated>2021-09-20T18:57:30+02:00</updated>
    <author>
        <name>Vincent</name>
    </author>
    <id>//myrealbook.vintherine.org</id>

    <entry>
        <title>À propos du blog (avertissement, hébergement, outils)</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="//myrealbook.vintherine.org/a-propos-du-blog-avertissement-outils-hebergement.html"/>
        <id>//myrealbook.vintherine.org/a-propos-du-blog-avertissement-outils-hebergement.html</id>

        <updated>2021-09-20T18:57:30+02:00</updated>
            <summary>
                <![CDATA[
                    Avertissement Ce blog est essentiellement le reflet de mon activé en matière&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <h3>Avertissement</h3>
<p>Ce blog est essentiellement le reflet de mon activé en matière d'édition de partitions de jazz avec Lilypond pour laquelle je note quelques trucs et astuces. C'est donc tout à la fois un pense-bête personnel et un lieux de partage de mes maigres compétences. À ce titre j'attire l'attention du lecteur sur le fait que ce site ne peut en aucun cas remplacer la <a href="https://lilypond.org/manuals.fr.html">documentation officielle de Lilypond</a>. En complément je lui recommande chaudement de s'inscrire à la <a href="https://lists.gnu.org/mailman/listinfo/lilypond-user-fr">mailing list des utilisateurs francophone de Lilypond</a>  où il pourra correspondre avec de nombreux interlocuteurs compétents et d'une extraordinaire disponibilité. </p>
<h3>Hébergement</h3>
<p>Ce site est hébergé sur <a href="https://github.com/">Github</a>, qui est un service web collaboratif d'hébergement et de gestion de développement de logiciels, utilisant le logiciel de gestion de versions <a href="https://git-scm.com/">Git</a>. Même s'il est surtout connu pour ses hébergements de projets de logiciels libre il permet également, sous certaines conditions, d'héberger des sites web statiques : <a href="https://pages.github.com/">voir ici</a>. </p>
<p>À noter que depuis l'acquisition de Github par Microsoft en 2018 deux cas de fermetures de compte liés à des problèmes de DRM (Youtube-dl, Widevine) ont provoqués un certain trouble dans la communauté des libristes. Dans ce contexte utiliser Github pour partager des partitions peut ne pas être une solution très indiquée. Peut-être devrais-je migrer sur <a href="https://docs.gitlab.com/ee/user/project/pages/">Gitlab</a> ? En attendant je me suis contenté de demander aux moteurs de recherche de ne pas l'indexer (NoIndex NoFollow) ce qui en restreint la diffusion au seul bouche à oreilles.</p>
<h3>Outils</h3>
<p>Quand on pense aux systèmes de gestion de contenu web on pense d'abord à des gros projets tels Wordpress, Dotclear, Drupal... tous basés sur php et une base de donnée. Pourtant faire un site web statique est une idée qui refait son chemin aujourd'hui : plus rapide, plus économique, plus écologique, moins sujet aux bugs et au piratage... Et même s'ils sont moins connus que les géants évoqués ci-dessus existent d’excellents générateurs de sites statiques tels <a href="https://jekyllrb.com/">Jekyll</a>, <a href="https://gohugo.io/">Hugo</a>, <a href="https://blog.getpelican.com/">Pelican</a>... Après en avoir testé quelques-uns j'ai choisi <a href="https://getpublii.com/">Publii</a> qui m'a semblé être le plus facile à prendre en main grâce à son interface graphique. Et bien sûr il gère parfaitement les mises à jour sur Github ou Gitlab.</p>
<p>Les pages relatives aux partitions sont générés et mises à jour automatiquement par un petit script bash à base de grep et de sed, qui extrait des données des fichiers Lilypond puis les colle dans une page modèle réalisé avec Publii. </p>
<p> </p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>À propos de moi (et comment me contacter)</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="//myrealbook.vintherine.org/a-propos-de-moi-et-comment-me-contacter.html"/>
        <id>//myrealbook.vintherine.org/a-propos-de-moi-et-comment-me-contacter.html</id>

        <updated>2021-09-20T18:42:48+02:00</updated>
            <summary>
                <![CDATA[
                    Je m'appelle Vincent Gay, je suis un musicien amateur (saxophone, clarinette, guitare&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Je m'appelle Vincent Gay, je suis un musicien amateur (saxophone, clarinette, guitare basse...) et j'habite un petit village de montagne dans le sud de l'<a href="https://fr.wikipedia.org/wiki/Is%C3%A8re_(d%C3%A9partement)">Isère</a> (France) tout près du <a href="https://fr.wikipedia.org/wiki/Parc_national_des_%C3%89crins">parc national des Écrins</a>. </p>
<p>Pour me contacter à propos de ce site ou des partitions qu'il contient vous pouvez m'écrire à myrealbook à vintherine point org</p>
<p>S'il s'agit de questions questions concernant Lilypond je suis également contributeur occasionnel sur la <a href="https://lists.gnu.org/mailman/listinfo/lilypond-user-fr">liste des utilisateurs francophones de Lilypond</a>.</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>À propos des logiciels d&#x27;éditions utilisés</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="//myrealbook.vintherine.org/a-propos-des-logiciels-deditions-utilises.html"/>
        <id>//myrealbook.vintherine.org/a-propos-des-logiciels-deditions-utilises.html</id>

        <updated>2021-09-20T18:57:12+02:00</updated>
            <summary>
                <![CDATA[
                    Propos liminaires tous les logiciels évoqués ci-dessous sont des logiciels libres au&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <h3>Propos liminaires</h3>
<p>tous les logiciels évoqués ci-dessous sont des logiciels libres au sens de la Free Software Foundation. Voir <a href="https://www.fsf.org/">ici</a> ou <a href="https://fr.wikipedia.org/wiki/Logiciel_libre">là</a>. </p>
<h3 id="toc_lilypond">Lilypond</h3>
<p>Bien loin des clicodromes standards, <a href="http://lilypond.org/index.fr.html" target="_blank" rel="noopener noreferrer">Lilypond</a> est un langage descriptif permettant de produire un fichier source qui sera ensuite compilé. Il faut donc apprendre une syntaxe et de nombreuses règles… qui sont susceptibles d'évoluer d'une version à l'autre.</p>
<p>Pour faire court, l'intérêt principal que je trouve à Lilypond, c'est de pouvoir faire exactement ce que je veux avec une qualité de sortie irréprochable.  Comme par exemple ceci :</p>
<figure class="post__image" ><img loading="lazy" src="file:///home/vincent/Publii/sites/myrealbook/input/media/posts/6/5f47fa692c1c4928bc7ef664202204a5.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="file:///home/vincent/Publii/sites/myrealbook/input/media/posts/6/responsive/5f47fa692c1c4928bc7ef664202204a5-xs.png 300w ,file:///home/vincent/Publii/sites/myrealbook/input/media/posts/6/responsive/5f47fa692c1c4928bc7ef664202204a5-sm.png 480w ,file:///home/vincent/Publii/sites/myrealbook/input/media/posts/6/responsive/5f47fa692c1c4928bc7ef664202204a5-md.png 768w"  alt="" width="1523" height="426">
<figcaption >Breakfast Wine (Randy Aldcroft)</figcaption>
</figure>
<p>ou ceci :</p>
<figure class="post__image"><img loading="lazy"  src="file:///home/vincent/Publii/sites/myrealbook/input/media/posts/6/1f9ff908e3cd4be0a0d2079238bf8f0b-4.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="file:///home/vincent/Publii/sites/myrealbook/input/media/posts/6/responsive/1f9ff908e3cd4be0a0d2079238bf8f0b-4-xs.png 300w ,file:///home/vincent/Publii/sites/myrealbook/input/media/posts/6/responsive/1f9ff908e3cd4be0a0d2079238bf8f0b-4-sm.png 480w ,file:///home/vincent/Publii/sites/myrealbook/input/media/posts/6/responsive/1f9ff908e3cd4be0a0d2079238bf8f0b-4-md.png 768w"  alt="" width="1517" height="588"></figure>
<h3 id="toc_frescobaldi">Frescobaldi</h3>
<p>Pour utiliser Lilypond il suffit, a priori, d'un éditeur de texte, d'un terminal et d'une visionneuse poscript/pdf pour voir le résultat. Optionnellement, un lecteur midi car Lilypond sait aussi produire du midi. Par bonheur il exite un logiciel qui permet de faire tout ceci dans la même fenêtre, <a href="http://frescobaldi.org/">Frescobaldi</a>.</p>
<p>C'est un éditeur de texte dédié à LilyPond, avec coloration syntaxique, visionneuse PDF et lecteur midi intégrés. La fonction « point and click » permet de rapidement retrouver la correspondance entre le PDF et le code, et ce dans les deux sens. Quelques palettes d'outils permettent un accès rapide à des symboles dont on aurait oublié la syntaxe et on peut afficher la documentation Lilypond à partir d'un emplacement local ou d'une URL. Les différents panneaux qui le composent peuvent être ancrés à la fenêtre principale ou détachés, ce qui est bien pratique quand on a un double écran. Il ne fait pas le café, c'est à mes yeux son seul défaut. </p>
<h3 id="toc_lilyjazz">LilyJazz et autres fichiers inclus</h3>
<p>Coté look and file j'ai trouvé amusant d'imiter le style Real Book grace au projet <a href="https://github.com/OpenLilyPondFonts/lilyjazz" target="_blank" rel="noopener noreferrer">LilyJazz</a>. Il vous faudra copier les polices dans le répertoire fonts de Lilypond et ce à chaque changement de version (oui, c'est pénible) et indiquer à Frescobaldi ou trouver les feuilles de style ( Menu Édition -&gt; Préférences -&gt; Préférences de Lilypond -&gt; Emplacement d'inclusion Lilypond). Comme j'ai personnalisé ces fichiers et en ai rajouté quelques autres j'ai tout mis dans <a href="media/files/Inclusions.zip">un zip disponible ici</a>. Libre à vous de ne pas les utiliser mais il vous faudra nettoyer le code avant compilation ou subir des messages d'erreur.</p>
<h3>Musescore</h3>
<p>Pour dégrossir une partition, un arrangement ou pour composer j'utilise <a href="https://musescore.org/fr">Musescore</a> qui est un logiciel d'édition de partitions WISIWIG puissant et facile à utiliser. Il est possible d'importer ou exporter au format MusixXML ce qui permet de faire le lien avec Lilypond.</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Glissandi et bends</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="//myrealbook.vintherine.org/glissandi-et-bends.html"/>
        <id>//myrealbook.vintherine.org/glissandi-et-bends.html</id>

        <updated>2021-09-20T18:04:27+02:00</updated>
            <summary>
                <![CDATA[
                    <h4>Les Glissandi</h4>
<figure class="post__image">Par défaut les glissandi de Lilypond sont rectilignes et relient obligatoirement deux notes.<br><img loading="lazy"  src="/myrealbook.vintherine.org/media/posts/8//GlissandiClassiques.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="/myrealbook.vintherine.org/media/posts/8//responsive/GlissandiClassiques-xs.png 300w ,/myrealbook.vintherine.org/media/posts/8//responsive/GlissandiClassiques-sm.png 480w ,/myrealbook.vintherine.org/media/posts/8//responsive/GlissandiClassiques-md.png 768w"  alt="" width="418" height="131"></figure>
<p>De nos jours les glissandi sont plus souvent représentés par un zig-zag et la note d'arrivée n'est pas nécéssairement présente. <figure class="post__image"><img loading="lazy"  src="/myrealbook.vintherine.org/media/posts/8//GlissandiModernes.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="/myrealbook.vintherine.org/media/posts/8//responsive/GlissandiModernes-xs.png 300w ,/myrealbook.vintherine.org/media/posts/8//responsive/GlissandiModernes-sm.png 480w ,/myrealbook.vintherine.org/media/posts/8//responsive/GlissandiModernes-md.png 768w"  alt="" width="641" height="129"></figure>
<p>Pour la forme il suffit d'un <code>\override Glissando.style = #'zigzag</code> dans le /score ou mieux dans un \layout. Quant à la note d'arrivée il faudra la masquer.</p>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <h4>Les Glissandi</h4>
<figure class="post__image">Par défaut les glissandi de Lilypond sont rectilignes et relient obligatoirement deux notes.<br><img loading="lazy"  src="/myrealbook.vintherine.org/media/posts/8//GlissandiClassiques.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="/myrealbook.vintherine.org/media/posts/8//responsive/GlissandiClassiques-xs.png 300w ,/myrealbook.vintherine.org/media/posts/8//responsive/GlissandiClassiques-sm.png 480w ,/myrealbook.vintherine.org/media/posts/8//responsive/GlissandiClassiques-md.png 768w"  alt="" width="418" height="131"></figure>
<p>De nos jours les glissandi sont plus souvent représentés par un zig-zag et la note d'arrivée n'est pas nécéssairement présente. <figure class="post__image"><img loading="lazy"  src="/myrealbook.vintherine.org/media/posts/8//GlissandiModernes.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="/myrealbook.vintherine.org/media/posts/8//responsive/GlissandiModernes-xs.png 300w ,/myrealbook.vintherine.org/media/posts/8//responsive/GlissandiModernes-sm.png 480w ,/myrealbook.vintherine.org/media/posts/8//responsive/GlissandiModernes-md.png 768w"  alt="" width="641" height="129"></figure>
<p>Pour la forme il suffit d'un <code>\override Glissando.style = #'zigzag</code> dans le /score ou mieux dans un \layout. Quant à la note d'arrivée il faudra la masquer.</p>

<p>La solution proposée dans la <a href="http://lilypond.org/doc/v2.19/Documentation/notation/expressive-marks-as-lines">documentation</a> est d'utiliser une note cachée dans une cadence avec les inconvénients suivants : du fait de la cadence le décompte de la mesure ne sera pas incrémentée (le rectifier avec \set Score.currentBarNumber = #[N° de la mesure]). il faudra également gérer les autres voix éventuelles et les ligatures ([ et ] derrière les notes concernées). </p>
<pre class="verbatim">\relative c'' {
  \time 3/4
  \override Glissando.style = #'zigzag
  c4 c
  \cadenzaOn
  c4\glissando
  \hideNotes
  c,4
  \unHideNotes
  \cadenzaOff
  \bar "|"
}</pre>
<figure class="post__image"><img loading="lazy"  src="/myrealbook.vintherine.org/media/posts/8/GlissandiDoc.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="/myrealbook.vintherine.org/media/posts/8/responsive/GlissandiDoc-xs.png 300w ,/myrealbook.vintherine.org/media/posts/8/responsive/GlissandiDoc-sm.png 480w ,/myrealbook.vintherine.org/media/posts/8/responsive/GlissandiDoc-md.png 768w"  alt="" width="325" height="139"></figure>
<p>Pour ma  part je préfère passer par une afterGrace ce qui évite les désagréments évoqués plus haut.</p>
<pre>\version "2.19.80"<br>\layout {<br>  \context {<br>  \Score<br>  \override Glissando.style = #'zigzag<br>  \override Glissando.minimum-length = #4<br>  \override Glissando.springs-and-rods = #ly:spanner::set-spacing-rods<br>  }<br>}<br><br>\relative c'' {<br>  c2 \afterGrace c \glissando { \hideNotes c,8 \unHideNotes } |<br> \afterGrace c'2 \glissando { \hideNotes c,8 \unHideNotes } r2 |<br> \afterGrace g' \glissando { \hideNotes g'8 \unHideNotes } r2<br>}</pre>
<figure class="post__image"><img loading="lazy"  src="/myrealbook.vintherine.org/media/posts/8//GlissandiModernes.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="/myrealbook.vintherine.org/media/posts/8//responsive/GlissandiModernes-xs.png 300w ,/myrealbook.vintherine.org/media/posts/8//responsive/GlissandiModernes-sm.png 480w ,/myrealbook.vintherine.org/media/posts/8//responsive/GlissandiModernes-md.png 768w"  alt="" width="641" height="129"></figure>
<p>Notez dans le \layout les instructions  \override Glissando.minimum-length = #4 et \override Glissando.springs-and-rods = #ly:spanner::set-spacing-rods sans lesquels la longueur du glissando serait limitée à l'espace entre la note et l'afterGrace. Une alternative serait de définir afterGraceFraction en proportion de la note principale.<a href="http://lilypond.org/doc/v2.19/Documentation/notation/special-rhythmic-concerns.fr.html#grace-notes">Voir la documentation ici</a>.</p>
<h3>Les bends</h3>
<p>Lilypond utilise les sauts et chutes <strong>après</strong> une note avec la commande \bendAfter #±VALEUR, où valeur est positive pour une courbe vers le haut et négative pour une courbe vers le bas</p>
<pre class="codecontent">\version "2.19.80"
\relative c'' {
  c2\bendAfter #+4
  c2\bendAfter #-4
  c2\bendAfter #+6.5
  c2\bendAfter #-6.5
  c2\bendAfter #+8
  c2\bendAfter #-8
}</pre>
<figure class="post__image"><img loading="lazy"  src="/myrealbook.vintherine.org/media/posts/8/BendAfter.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="/myrealbook.vintherine.org/media/posts/8/responsive/BendAfter-xs.png 300w ,/myrealbook.vintherine.org/media/posts/8/responsive/BendAfter-sm.png 480w ,/myrealbook.vintherine.org/media/posts/8/responsive/BendAfter-md.png 768w"  alt="" width="536" height="138"></figure><br>Malheureusement pas de bendBefore ! Si ce n'est en utilisant un markup crée par ces deux petites fonctions, scoopH et scoopB</p>
<pre>\version "2.19.83"<br><br>#(define (scoop-stencil grob)<br> (ly:stencil-add<br> (ly:note-head::print grob)<br> (grob-interpret-markup grob<br> (markup #:with-dimensions '(0 . 0) '(0 . 0)<br> #:translate '(-0.2 . -0.5)<br> #:path 0.25 '((moveto -0.2 0.5)<br> (curveto 0.2 2 -1.2 2.5 -1.7 2.5))))))<br>scoopH = \once \override NoteHead #'stencil = #scoop-stencil<br><br> #(define (scoop-stencil grob)<br> (ly:stencil-add<br> (ly:note-head::print grob)<br> (grob-interpret-markup grob<br> (markup #:with-dimensions '(0 . 0) '(0 . 0)<br> #:translate '(-0.2 . -0.5)<br> #:path 0.25 '((moveto 0 0)<br> (curveto 0.2 -1 -1.2 -1.5 -1.7 -1.5))))))<br>scoopB = \once \override NoteHead #'stencil = #scoop-stencil<br><br>\relative c'' {<br>  \scoopH c2 \scoopB c2 <br>}</pre>
<figure class="post__image"><img loading="lazy"  src="/myrealbook.vintherine.org/media/posts/8/scoop.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="/myrealbook.vintherine.org/media/posts/8/responsive/scoop-xs.png 300w ,/myrealbook.vintherine.org/media/posts/8/responsive/scoop-sm.png 480w ,/myrealbook.vintherine.org/media/posts/8/responsive/scoop-md.png 768w"  alt="" width="267" height="120"></figure>
<p>Cette fonction est dérivé de <a href="https://lists.gnu.org/archive/html/lilypond-user/2014-01/msg01200.html">ce message</a> sur la liste lilypond-user. </p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Répétitions avec fins alternatives</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="//myrealbook.vintherine.org/repetitions-avec-fins-alternatives.html"/>
        <id>//myrealbook.vintherine.org/repetitions-avec-fins-alternatives.html</id>

        <updated>2021-09-20T18:09:04+02:00</updated>
            <summary>
                <![CDATA[
                    <p>Avec Lilypond les répétitions avec fins alternatives sont indiquées ordinairement de la manière suivante :</p>
<pre>\repeat volta x {<br> ... musique ...<br> }<br>\alternative {<br> { ... alternative 1 }<br> { ... alternative 2 }<br> { ... alternative x }<br> }</pre>
<p>Ce qui donnera par exemple quelque chose comme ceci :</p>
<figure class="post__image"><img loading="lazy"  src="/myrealbook.vintherine.org/media/posts/7/AlternatisesStandards.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="/myrealbook.vintherine.org/media/posts/7/responsive/AlternatisesStandards-xs.png 300w ,/myrealbook.vintherine.org/media/posts/7/responsive/AlternatisesStandards-sm.png 480w ,/myrealbook.vintherine.org/media/posts/7/responsive/AlternatisesStandards-md.png 768w"  alt="" width="441" height="66"></figure>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Avec Lilypond les répétitions avec fins alternatives sont indiquées ordinairement de la manière suivante :</p>
<pre>\repeat volta x {<br> ... musique ...<br> }<br>\alternative {<br> { ... alternative 1 }<br> { ... alternative 2 }<br> { ... alternative x }<br> }</pre>
<p>Ce qui donnera par exemple quelque chose comme ceci :</p>
<figure class="post__image"><img loading="lazy"  src="/myrealbook.vintherine.org/media/posts/7/AlternatisesStandards.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="/myrealbook.vintherine.org/media/posts/7/responsive/AlternatisesStandards-xs.png 300w ,/myrealbook.vintherine.org/media/posts/7/responsive/AlternatisesStandards-sm.png 480w ,/myrealbook.vintherine.org/media/posts/7/responsive/AlternatisesStandards-md.png 768w"  alt="" width="441" height="66"></figure>

<p>Il arrive toutefois que l'on soit amené à contrôler manuellement les indications de reprises. Prenons pour exemple le standart de Jazz <em><strong>Jeannine</strong></em> de Duke Pearson. C'est une pièce de la forme A1 A2 B A1. Imaginons que nous souhaitions indiquer la répétition sous la forme </p>
<figure class="post__image"><img loading="lazy"  src="/myrealbook.vintherine.org/media/posts/7/JeanineAlternatives.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="/myrealbook.vintherine.org/media/posts/7/responsive/JeanineAlternatives-xs.png 300w ,/myrealbook.vintherine.org/media/posts/7/responsive/JeanineAlternatives-sm.png 480w ,/myrealbook.vintherine.org/media/posts/7/responsive/JeanineAlternatives-md.png 768w"  alt="" width="1288" height="197"></figure>
<p>avec barre de reprise en fin de B. Avec la formulation standard nous nous heurterions à la double difficulté suivante :</p>
<ul>
<li>l'ordre retenu par défaut serait [ 1 &amp; 2 ] [ 3     ]</li>
<li>il ne serait pas possible de rajouter une indication textuelle. </li>
</ul>
<p>Il nous faudra alors passer par des instructions explicites qui agissent toutes sur la propriété Score.repeatCommands : </p>
<ul>
<li><code>\set Score.repeatCommands = #'(start-repeat)</code> imprime la barre de début de répétition (équivalent à \bar ".|:" ou à \bar "[|:")</li>
<li><code>\set Score.repeatCommands = #'(end-repeat)</code> imprime la barre de fin de répétition (équivalent à \bar ";|." ou à \bar ":|]")</li>
<li><code>\set Score.repeatCommands = #'((volta #f))</code> interrompt le crochet d'alternative. Si Lilypond ne trouve pas de fin d'alternative (volta #f ou accolade } de l'instruction ordinaire d'alternative) le crochet ne sera pas imprimé.</li>
<li><code>\set Score.repeatCommands = #'((volta "1"))</code> indique le numéro de l'alternative. il peut être multiple, par ex. #'((volta "1, 2")) ou #'((volta "5, 34")). </li>
<li>Il est possible de mixer plusieurs instructions en une seule commande. Par exemple  <code>\set Score.repeatCommands = #'((volta #f) (volta "2") end-repeat)</code> termine le crochet, ouvre le crochet de l'alternative suivante et imprime la barre de reprise.</li>
<li>Pour intégrer des indications textuelles il faut préalablement définir celles-ci dans un markup puis les intégrer par la comande <code>\set Score.repeatCommands = #(list(list 'volta le_markup))</code>. Par exemple :</li>
</ul>
<pre>\version "2.19.83"<br>voltaAdLib = \markup { 1. 2. 3... \text \italic { ad lib. } }<br>voltaOnCue= \markup \small \with-color #(x11-color 'red) { \text \italic { On Cue } }<br><br>\relative c'' {<br> c4 c c c<br> \set Score.repeatCommands = #'(start-repeat)<br> c4 c c c <br> \set Score.repeatCommands = #(list(list 'volta voltaAdLib))<br> c4 c c c<br> \set Score.repeatCommands = #(list '(volta #f) (list 'volta voltaOnCue) 'end-repeat)<br> c1<br> \set Score.repeatCommands = #'((volta #f))<br>}</pre>
<figure class="post__image"><img loading="lazy"  src="/myrealbook.vintherine.org/media/posts/7/OnCue.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="/myrealbook.vintherine.org/media/posts/7/responsive/OnCue-xs.png 300w ,/myrealbook.vintherine.org/media/posts/7/responsive/OnCue-sm.png 480w ,/myrealbook.vintherine.org/media/posts/7/responsive/OnCue-md.png 768w"  alt="" width="823" height="157"></figure>
<p>Voici pour finir le code complet de <strong>Jeannine</strong> :  </p>
<pre>\version "2.22.1"<br>#(set-global-staff-size 18)<br><br>\paper {<br>   indent = 0\mm<br>   markup-system-spacing = #'((basic-distance . 20)<br>                              (minimum-distance . 8)<br>                              (padding . 1))<br>}<br><br>\header {<br>   title = Jeannine<br>   composer = "Duke Pearson"<br>   poet = "Med. Up Swing"<br>   tagline = ##f<br>}<br><br>theChords = \chordmode {<br>   \set chordChanges = ##t<br>   as1*4:m7 as:m7 fis1:m7<br>   b1:7 e:7+ a:7 bes:m7 es:9+ as1:7+ es:9+<br>   as:7+ es2:m7 as:7 <br>   des1:7+ g2:m5-7 c:7 f1*2:7+ f1:m7 bes:7 bes:m7 es:7<br>}<br><br>voltaOne = \markup { 1 \text { &amp; } 3 \text \fontsize #4 \with-color #red \italic { " (fine)" }}<br><br><br>theNotes = \relative c'' {<br>  \set Score.markFormatter = #format-mark-box-alphabet<br>  \clef "treble" \key as \major \time 4/4 \mark #1<br>  \repeat volta 3 {<br>    r8 es4-. r8 es4-. r | r8 es4-. r8 es4-. f-. <br>    ges--( f8 es ~ es2 ~ | es1) \break<br>    r8 es4-. r8 es4-. r | r8 es4-. r8 es4-. f-. <br>    ges-- f8 es ~ es2 ~ | es r8 c des as' ~ \break<br>    as4. e8-. r des4-. a8 | as'!4-- g8 ges-&gt; ~ ges as ges b-&gt; ~ <br>    b2 ~ b8 bes b ges-&gt; ~ | ges2. e8 es~ \break | <br>    es4. es8 r2 | r8 bes( \times 2/3 { c des es } ges4 e8 es) ~ | <br>  }<br>  \alternative {<br>    { <br>      \set Score.repeatCommands = #(list(list 'volta voltaOne)) <br>      es1 ~ | es1 <br>      \set Score.repeatCommands = #'((volta #f) (volta "2") end-repeat) <br>    }<br>    { <br>      es2 \repeatTie \times 2/3 { es4 c es } f2 es <br>      \set Score.repeatCommands = #'((volta #f))<br>      \bar "||" \break \mark #2<br>      as,2 ~ as8( bes \times 2/3 { c des es } | <br>      f4-.) r8 g-&gt;~g( f g a-&gt;) ~ <br>      a1 | r8 e4.-&gt; \times 2/3 { f4 g a } \break<br>      as?2 \times 2/3 { as4 g as } | bes2 f | <br>      bes1 ~ | bes2. r4 \bar ":|." <br>    }<br>  }<br>}<br><br>\score {<br>   &lt;&lt;<br>     \new ChordNames \theChords<br>     \new Staff \theNotes<br>   &gt;&gt;<br>} </pre>
<figure class="post__image"><img loading="lazy"  src="/myrealbook.vintherine.org/media/posts/7/jeannine.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="/myrealbook.vintherine.org/media/posts/7/responsive/jeannine-xs.png 300w ,/myrealbook.vintherine.org/media/posts/7/responsive/jeannine-sm.png 480w ,/myrealbook.vintherine.org/media/posts/7/responsive/jeannine-md.png 768w"  alt="" width="1585" height="1090"> </figure>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Lilypond : indications rythmiques</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="//myrealbook.vintherine.org/lilypond-indications-rythmiques.html"/>
        <id>//myrealbook.vintherine.org/lilypond-indications-rythmiques.html</id>

        <updated>2021-09-20T18:45:54+02:00</updated>
            <summary>
                <![CDATA[
                    <p>Lylipond dispose d'une instruction pour transformer les têtes de notes en formes de "slashes". Cela indique ordinairement une section où le musicien est libre de jouer les notes qu'il veut à condition de respecter le rythme. Par exemple :</p>
<p><img loading="lazy" src="http://lilypond.org/doc/v2.19/Documentation/3b/lily-25cb0b78.png" data-is-external-image="true"  alt="[image of music]" align="middle" border="0"></p>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Lylipond dispose d'une instruction pour transformer les têtes de notes en formes de "slashes". Cela indique ordinairement une section où le musicien est libre de jouer les notes qu'il veut à condition de respecter le rythme. Par exemple :</p>
<p><img loading="lazy" src="http://lilypond.org/doc/v2.19/Documentation/3b/lily-25cb0b78.png" data-is-external-image="true"  alt="[image of music]" align="middle" border="0"></p>

<p>ce qui s'obtient par le code :</p>
<pre class="verbatim">\new Voice \with {
  \consists "Pitch_squash_engraver"
} \relative {
  e''8 e g a a16( bes) a8 g
  \improvisationOn
  e8 ~
  2 ~ 8 f4 f8 ~
  2
  \improvisationOff
  a16( bes) a8 g e
}</pre>
<p>La section est limitée par <code>\improvisationOn ../.. \improvisation\Off</code></p>
<p>Par ailleurs c'est le contexte <code>\consists "Pitch_squash_engraver"</code> qui permet que toutes les notes s'affichent au centre de la portée. En son absence les notes s'afficheraient à leur emplacement ordinaire.</p>
<p>Ce type de notation est fréquemment utilisé en jazz pour la mise en place de tout ou partie de la section rythmique, ici dans la voix basse :</p>
<figure class="post__image"><img loading="lazy"  src="/myrealbook.vintherine.org/media/posts/5/729313fb13a2421f812e5632ae41638a.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="/myrealbook.vintherine.org/media/posts/5/responsive/729313fb13a2421f812e5632ae41638a-xs.png 300w ,/myrealbook.vintherine.org/media/posts/5/responsive/729313fb13a2421f812e5632ae41638a-sm.png 480w ,/myrealbook.vintherine.org/media/posts/5/responsive/729313fb13a2421f812e5632ae41638a-md.png 768w"  alt="" width="1084" height="220"></figure>
<p>Le code :</p>
<pre>\version "2.22.1"<br>#(set-global-staff-size 18)<br>\include "jazzchords.ily"<br>\include "lilyjazz.ily"<br>\include "jazzextras.ily"<br><br><br>theNotes = \relative c'' {<br> \clef "treble" \key bes \major \time 4/4<br> \override Rest #'staff-position = #0<br> r2 r8 es c4-. | bes2 es | a g | es4-. r ^\markup \small "Solo break..." r2<br>}<br><br><br>Rythme= \relative c' {<br> \improvisationOn<br> \override NoteHead.no-ledgers = ##t % pas de lignes additionelles<br> \override Rest #'staff-position = #-6 % position des silences<br> c4. 8~ 4 4 | r4 8 r8 2 | 2 2 | s1 <br>}<br><br>harmonies = \chordmode {<br> f4.:8 bes:13 bes/as g:8 c2:8 f:8 bes:9-13 es:6.9<br>}<br><br>\score {<br> &lt;&lt;<br> \new ChordNames {<br> \set chordChanges = ##t<br> \harmonies<br> }<br> \new Staff &lt;&lt;<br> \theNotes \\ \Rythme<br> &gt;&gt; &gt;&gt;<br>}</pre>
<p>On notera :</p>
<ul>
<li>l'absence de \consists "Pitch_squash_engraver" dans la voix rythmique et donc le positionnement des notes en fonction de leur valeur</li>
<li>le positionnement manuel des silences grâce à l'instruction <code>\override Rest #'staff-position</code> dans les deux voix </li>
</ul>
<p>Pour passer la voix en haut changer la valeur de Rest #'staff-position dans Rythme ( par exemple #6) et inverser les 2 voix <code class="inline-code">\Rythme \\ \theNotes</code></p>
<figure class="post__image"><img loading="lazy"  src="/myrealbook.vintherine.org/media/posts/5/3303fb7dc05041ce9e95b34b60fe1aea.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="/myrealbook.vintherine.org/media/posts/5/responsive/3303fb7dc05041ce9e95b34b60fe1aea-xs.png 300w ,/myrealbook.vintherine.org/media/posts/5/responsive/3303fb7dc05041ce9e95b34b60fe1aea-sm.png 480w ,/myrealbook.vintherine.org/media/posts/5/responsive/3303fb7dc05041ce9e95b34b60fe1aea-md.png 768w"  alt="" width="1529" height="191"> </figure>
<p>Dans l'exemple qui suit la ligne de basse est totalement écrite et seule le rythme est indiqué pour le piano (ou la guitare). Les temps non significatifs sont remplacés par des slashes obtenus en remplacement les soupirs (voir la fonction "comp" dans le code ci-dessous)</p>
<figure class="post__image"><img loading="lazy"  src="/myrealbook.vintherine.org/media/posts/5/8eca286f0b1e4b428d91a67f9ad15def.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="/myrealbook.vintherine.org/media/posts/5/responsive/8eca286f0b1e4b428d91a67f9ad15def-xs.png 300w ,/myrealbook.vintherine.org/media/posts/5/responsive/8eca286f0b1e4b428d91a67f9ad15def-sm.png 480w ,/myrealbook.vintherine.org/media/posts/5/responsive/8eca286f0b1e4b428d91a67f9ad15def-md.png 768w"  alt="" width="1533" height="459"></figure>
<p>le code complet :</p>
<pre>\version "2.22.1"<br>#(set-global-staff-size 18)<br>\include "jazzchords.ily"<br>\include "lilyjazz.ily"<br>\include "jazzextras.ily"<br><br>comp = #(define-music-function (count) (integer?)<br> #{<br> \override Rest.stencil = #ly:percent-repeat-item-interface::beat-slash<br> \override Rest.thickness = #0.48<br> \repeat unfold $count { r4 }<br> \revert Rest.stencil<br> #}<br> )<br><br><br>chordsRhythm = \relative c' {<br> \override Rest #'staff-position = #8<br> \improvisationOn \override NoteHead.no-ledgers = ##t <br> <br> \comp #3 e8 8~ | 4 \comp #3 | \comp #3 8 8~ | 4 \comp #3<br> \comp #3 8 8~ | 4 8 8~ 4 \comp #3 r8 8 8 8~ | 4 \comp #3<br>}<br><br>Basse = \relative c {<br> \override Rest #'staff-position = #0<br> \clef "bass" \key as \major \time 4/4<br> bes4 4 c8 4 des8~ | 2 r8 c f, c' | bes4 4 c8 4 des8~ | 4 r8 es16 e f c f,8 ~ 4 |<br> bes4 4 c8 4 des8~ | 8 8 d es~ es4 g8 bes | as es as,4 8 g ges f8~ | 4. c'8 ges'4 f<br>}<br><br><br>harmonies = \chordmode {<br> \set chordChanges = ##t<br> bes2:m7 c4.:m7 des8:7+ s2 c:m7 bes2:m7 c4.:m7 des8:7+ s2 f:9+13-<br> bes2:m7 c4.:m7 des8:7+ s2 es:7sus4 as:7+ s8 g:7 as:7/ges f:9- s1<br>}<br><br><br>\score {<br> &lt;&lt;<br> \new ChordNames { \harmonies }<br> \new Staff \with {<br> instrumentName = \markup {<br> \column { "rhythm"<br> \line { "section" }<br> }<br> }<br> }<br> &lt;&lt;<br> \chordsRhythm \\ \Basse<br> &gt;&gt; <br> &gt;&gt;<br>} </pre>
<p> </p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>À propos...</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="//myrealbook.vintherine.org/about.html"/>
        <id>//myrealbook.vintherine.org/about.html</id>

        <updated>2021-09-20T18:44:20+02:00</updated>
            <summary>
                <![CDATA[
                    <p>À l'origine de ce site un simple besoin personnel de regrouper sur un support de type tablette (plus facile à transporter qu'une collection de <a href="https://fr.wikipedia.org/wiki/Real_Book_(jazz)">Real books</a>) toutes les partitions que je suis successible de jouer. </p>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>À l'origine de ce site un simple besoin personnel de regrouper sur un support de type tablette (plus facile à transporter qu'une collection de <a href="https://fr.wikipedia.org/wiki/Real_Book_(jazz)">Real books</a>) toutes les partitions que je suis successible de jouer. </p>

<p>Parmi mes contraintes :</p>
<ul>
<li>format paysage pour afficher des blocs de 4 mesures, même en cas de reprises avec alternatives.</li>
<li>limiter au maximum les changements de page sans pour autant perdre en lisibilité</li>
</ul>
<p>Assez vite j'ai eu à imprimer ces partitions pour d'autres musiciens en les transposant dans leur tonalité, généralement au format a4. Les sections rythmiques quand à elle me réclamaient ces fameuses <a href="https://fr.wikipedia.org/wiki/Grille_harmonique">grilles harmoniques</a> qui font - paraît-il - la spécificité du jazz français.</p>
<p>De fil en aiguille j'ai été amené à créer ce site pour </p>
<ul>
<li>Regrouper et rendre accessibles ces partitions</li>
<li>Partager quelques idées ou astuces liées à l'éditions des partitions de jazz</li>
</ul>
<p>Pour plus de détail je vous renvois aux articles suivant :</p>
<ul>
<li><a href="//myrealbook.vintherine.org/a-propos-de-moi-et-comment-me-contacter.html">À propos de moi (et comment me contacter)</a></li>
<li><a href="//myrealbook.vintherine.org/sources.html" rel="nofollow">À propos des partitions et de leurs fichiers sources</a></li>
<li><a href="//myrealbook.vintherine.org/a-propos-des-logiciels-deditions-utilises.html">À propos des outils d'éditions utilisé (Lilypond, Frescobaldi, MuseScore...)</a></li>
<li><a href="//myrealbook.vintherine.org/a-propos-du-blog-avertissement-outils-hebergement.html">À propos du blog (avertissement, outils, hébergement)</a></li>
</ul>
<p> </p>
<p> </p>
<p> </p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>À propos des partitions</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="//myrealbook.vintherine.org/sources.html"/>
        <id>//myrealbook.vintherine.org/sources.html</id>

        <updated>2021-09-20T18:55:52+02:00</updated>
            <summary>
                <![CDATA[
                    Les partitions sont accessible via ce tableau utilisant un système de tri&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Les partitions sont accessible via <a href="http://myrealbook.vintherine.org/scores/index.html" rel="nofollow">ce tableau </a>utilisant un système de tri multicritères (aide au dessus du tableau à droite). Attention : ce tableau est la seule page de ce site ne fonctionnant pas (encore) avec une feuille de style en cascade (CSS) permettant un redimensionnement automatique en fonction du matériel client (ordinateur, tablette, ordiphone...).</p>
<p>Si vous souhaitez utiliser les fichiers sources incluses dans les partitions il vous faudra</p>
<ul>
<li>évidemment un lecteur de fichiers pdf sachant afficher les fichiers inclus. Pour ma part j'utilise <a href="https://okular.kde.org/fr/">Okular</a>.  Evince et Xpdf ne semblent pas offrir cette fonctionnalité contrairement à Master PDF Editor mais ce dernier est un logiciel non libre.</li>
<li><a href="#toc_lilypond">à minima installer Lilypond sur votre ordinateur.</a></li>
<li><a href="#toc_frescobaldi">utiliser un éditeur tel Frescobaldi</a></li>
<li><a href="#toc_lilyjazz">d'installer les polices LilyJazz</a> (pour le look Real Book)</li>
</ul>
<h3 id="toc_lilypond">Lilypond</h3>
<p>Bien loin des clicodromes commerciaux, <a href="http://lilypond.org/index.fr.html" target="_blank" rel="noopener noreferrer">Lilypond</a> est un langage descriptif permettant de produire un fichier source qui sera ensuite compilé. Il faut donc apprendre une syntaxe et de nombreuses règles… qui sont susceptibles d'évoluer d'une version à l'autre. La version stable à ce jour (septembre 2021) est la 2.22 mais si vous utilisez le gestionnaire de dépôts de certaines distributions Linux il se peut que la version installée soit plus ancienne. </p>
<p>Pour faire court, l'intérêt principal que je trouve à Lilypond, c'est de pouvoir faire exactement ce que je veux avec une qualité de sortie irréprochable.  Comme par exemple ceci :</p>
<figure class="post__image" ><img loading="lazy" src="/myrealbook.vintherine.org/media/posts/6/5f47fa692c1c4928bc7ef664202204a5.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="/myrealbook.vintherine.org/media/posts/6/responsive/5f47fa692c1c4928bc7ef664202204a5-xs.png 300w ,/myrealbook.vintherine.org/media/posts/6/responsive/5f47fa692c1c4928bc7ef664202204a5-sm.png 480w ,/myrealbook.vintherine.org/media/posts/6/responsive/5f47fa692c1c4928bc7ef664202204a5-md.png 768w"  alt="" width="1523" height="426">
<figcaption >Breakfast Wine (Randy Aldcroft)</figcaption>
</figure>
<p>ou ceci :</p>
<figure class="post__image"><img loading="lazy"  src="/myrealbook.vintherine.org/media/posts/6/1f9ff908e3cd4be0a0d2079238bf8f0b-4.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="/myrealbook.vintherine.org/media/posts/6/responsive/1f9ff908e3cd4be0a0d2079238bf8f0b-4-xs.png 300w ,/myrealbook.vintherine.org/media/posts/6/responsive/1f9ff908e3cd4be0a0d2079238bf8f0b-4-sm.png 480w ,/myrealbook.vintherine.org/media/posts/6/responsive/1f9ff908e3cd4be0a0d2079238bf8f0b-4-md.png 768w"  alt="" width="1517" height="588"></figure>
<h3 id="toc_frescobaldi">Frescobaldi</h3>
<p>Pour utiliser Lilypond il suffit, a priori, d'un éditeur de texte, d'un terminal et d'une visionneuse poscript/pdf pour voir le résultat. Optionnellement, un lecteur midi car Lilypond sait aussi produire du midi. Par bonheur il existe un logiciel qui permet de faire tout ceci dans la même fenêtre, <a href="http://frescobaldi.org/">Frescobaldi</a>.</p>
<p>C'est un éditeur de texte dédié à LilyPond, avec coloration syntaxique, visionneuse PDF et lecteur midi intégrés. La fonction « point and click » permet de rapidement retrouver la correspondance entre le PDF et le code, et ce dans les deux sens. Quelques palettes d'outils permettent un accès rapide à des symboles dont on aurait oublié la syntaxe et on peut afficher la documentation Lilypond à partir d'un emplacement local ou d'une URL. Les différents panneaux qui le composent peuvent être ancrés à la fenêtre principale ou détachés, ce qui est bien pratique quand on a un double écran. Il ne fait pas le café, c'est à mes yeux son seul défaut. </p>
<h3 id="toc_lilyjazz">LilyJazz et autres fichiers inclus</h3>
<p>Coté look and file j'ai trouvé amusant d'imiter le style Real Book grâce au projet <a href="https://github.com/OpenLilyPondFonts/lilyjazz" target="_blank" rel="noopener noreferrer">LilyJazz</a>. Il vous faudra copier les polices dans le répertoire fonts de Lilypond et ce à chaque changement de version (oui, c'est pénible) et indiquer à Frescobaldi ou trouver les feuilles de style ( Menu Édition -&gt; Préférences -&gt; Préférences de Lilypond -&gt; Emplacement d'inclusion Lilypond). Comme j'ai personnalisé ces fichiers et en ai rajouté quelques autres j'ai tout mis dans <a href="media/files/Inclusions.zip">un zip disponible ici</a>. Libre à vous de ne pas les utiliser mais il vous faudra soit nettoyer le code avant compilation soit subir des messages d'erreur.</p>
            ]]>
        </content>
    </entry>
</feed>
