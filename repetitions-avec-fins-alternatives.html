<!DOCTYPE html><html lang="fr"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Répétitions avec fins alternatives - MyRealBook</title><meta name="description" content="Avec Lilypond les répetitions avec fins alternatives sont indiquées ordinairement de la manière suivante :\repeat volta x { ... musique ... }\alternative { { ... alternative 1 } { ... alternative 2 } { ... alternative x } }Ce qui donnera par exemple quelque chose comme ceci :"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="http://myrealbook.vintherine.org/repetitions-avec-fins-alternatives.html"><link rel="alternate" type="application/atom+xml" href="http://myrealbook.vintherine.org/feed.xml"><link rel="alternate" type="application/json" href="http://myrealbook.vintherine.org/feed.json"><meta property="og:title" content="Répétitions avec fins alternatives"><meta property="og:site_name" content="MyRealBook"><meta property="og:description" content="Avec Lilypond les répetitions avec fins alternatives sont indiquées ordinairement de la manière suivante :\repeat volta x { ... musique ... }\alternative { { ... alternative 1 } { ... alternative 2 } { ... alternative x } }Ce qui donnera par exemple quelque chose comme ceci :"><meta property="og:url" content="http://myrealbook.vintherine.org/repetitions-avec-fins-alternatives.html"><meta property="og:type" content="article"><style>:root{--body-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--heading-font:var(--body-font);--logo-font:var(--body-font);--menu-font:var(--body-font)}</style><link rel="stylesheet" href="http://myrealbook.vintherine.org/assets/css/style.css?v=4ea1d29febc3d847ee014e22dd748773"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"http://myrealbook.vintherine.org/repetitions-avec-fins-alternatives.html"},"headline":"Répétitions avec fins alternatives","datePublished":"2021-08-30T13:25","dateModified":"2021-09-09T22:06","description":"Avec Lilypond les répetitions avec fins alternatives sont indiquées ordinairement de la manière suivante :\\repeat volta x { ... musique ... }\\alternative { { ... alternative 1 } { ... alternative 2 } { ... alternative x } }Ce qui donnera par exemple quelque chose comme ceci :","author":{"@type":"Person","name":"Vincent"},"publisher":{"@type":"Organization","name":"Vincent"}}</script></head><body><header class="header" id="js-header"><a href="http://myrealbook.vintherine.org/" class="logo">MyRealBook</a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="http://myrealbook.vintherine.org/index.html" target="_self">Blog</a></li><li><a href="http://myrealbook.vintherine.org/scores/index.html" target="_self">Partitions</a></li><li><a href="http://myrealbook.vintherine.org/about.html" target="_self">À propos</a></li></ul></nav><div class="search"><div class="search__overlay js-search-overlay"><form action="http://myrealbook.vintherine.org/search.html" class="search__form"><input class="search__input js-search-input" type="search" name="q" aria-label="Search input" placeholder="search..." autofocus="autofocus"> <button class="search__submit">Search</button></form></div><button class="search__btn js-search-btn" aria-label="Search"><svg role="presentation" focusable="false" height="18" width="18"><use xlink:href="http://myrealbook.vintherine.org/assets/svg/svg-map.svg#search"/></svg></button></div></header><main><div class="wrapper"><article class="post"><header class="post__header"><h1 class="post__title">Répétitions avec fins alternatives</h1><div class="post__meta"><div class="post__author">By <a href="http://myrealbook.vintherine.org/authors/vincent/" class="invert" rel="author" title="Vincent">Vincent</a></div></div></header><div class="post__inner"><div class="post__entry"><p>Avec Lilypond les répetitions avec fins alternatives sont indiquées ordinairement de la manière suivante :</p><pre>\repeat volta x {<br> ... musique ...<br> }<br>\alternative {<br> { ... alternative 1 }<br> { ... alternative 2 }<br> { ... alternative x }<br> }</pre><p>Ce qui donnera par exemple quelque chose comme ceci :</p><figure class="post__image"><img loading="lazy" src="http://myrealbook.vintherine.org/media/posts/7/AlternatisesStandards.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="http://myrealbook.vintherine.org/media/posts/7/responsive/AlternatisesStandards-xs.png 300w, http://myrealbook.vintherine.org/media/posts/7/responsive/AlternatisesStandards-sm.png 480w, http://myrealbook.vintherine.org/media/posts/7/responsive/AlternatisesStandards-md.png 768w" alt="" width="441" height="66"></figure><p>Il arrive toutefois que l'on soit amené à contrôler manuellement les indications de reprises. Prenons pour exemple le standart de Jazz <em><strong>Jeannine</strong></em> de Duke Pearson. C'est une pièce de la forme A1 A2 B A1. Imaginons que nous souhaitions indiquer la répétition sous la forme </p><figure class="post__image"><img loading="lazy" src="http://myrealbook.vintherine.org/media/posts/7/JeanineAlternatives.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="http://myrealbook.vintherine.org/media/posts/7/responsive/JeanineAlternatives-xs.png 300w, http://myrealbook.vintherine.org/media/posts/7/responsive/JeanineAlternatives-sm.png 480w, http://myrealbook.vintherine.org/media/posts/7/responsive/JeanineAlternatives-md.png 768w" alt="" width="1288" height="197"></figure><p>avec barre de reprise en fin de B. Avec la formulation standard nous nous heurterions à la double difficulté suivante :</p><ul><li>l'ordre retenu par défaut serait [ 1 &amp; 2 ] [ 3     ]</li><li>il ne serait pas possible de rajouter une indication textuelle. </li></ul><p>Il nous faudra alors passer par des instructions explicites qui agissent toutes sur la propriété Score.repeatCommands : </p><ul><li><code>\set Score.repeatCommands = #'(start-repeat)</code> imprime la barre de début de répétition (équivalent à \bar ".|:" ou à \bar "[|:")</li><li><code>\set Score.repeatCommands = #'(end-repeat)</code> imprime la barre de fin de répétition (équivalent à \bar ";|." ou à \bar ":|]")</li><li><code>\set Score.repeatCommands = #'((volta #f))</code> interrompt le crochet d'alternative. Si Lilypond ne trouve pas de fin d'alternative (volta #f ou accolade } de l'instruction ordinaire d'alternative) le crochet ne sera pas imprimé.</li><li><code>\set Score.repeatCommands = #'((volta "1"))</code> indique le numéro de l'alternative. il peut être multiple, par ex. #'((volta "1, 2")) ou #'((volta "5, 34")). </li><li>Il est possible de mixer plusieurs instructions en une seule commande. Par exemple  <code>\set Score.repeatCommands = #'((volta #f) (volta "2") end-repeat)</code> termine le crochet, ouvre le crochet de l'alternative suivante et imprime la barre de reprise.</li><li>Pour intégrer des indications textuelles il faut préalablement définir celles-ci dans un markup puis les intégrer par la comande <code>\set Score.repeatCommands = #(list(list 'volta le_markup))</code>. Par exemple :</li></ul><pre>\version "2.19.83"<br>voltaAdLib = \markup { 1. 2. 3... \text \italic { ad lib. } }<br>voltaOnCue= \markup \small \with-color #(x11-color 'red) { \text \italic { On Cue } }<br><br>\relative c'' {<br> c4 c c c<br> \set Score.repeatCommands = #'(start-repeat)<br> c4 c c c <br> \set Score.repeatCommands = #(list(list 'volta voltaAdLib))<br> c4 c c c<br> \set Score.repeatCommands = #(list '(volta #f) (list 'volta voltaOnCue) 'end-repeat)<br> c1<br> \set Score.repeatCommands = #'((volta #f))<br>}</pre><figure class="post__image"><img loading="lazy" src="http://myrealbook.vintherine.org/media/posts/7/OnCue.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="http://myrealbook.vintherine.org/media/posts/7/responsive/OnCue-xs.png 300w, http://myrealbook.vintherine.org/media/posts/7/responsive/OnCue-sm.png 480w, http://myrealbook.vintherine.org/media/posts/7/responsive/OnCue-md.png 768w" alt="" width="823" height="157"></figure><p>Voici pour finir le code complet de <strong>Jeannine</strong> :  </p><pre>\version "2.19.80"<br>#(set-global-staff-size 18)<br><br>\paper {<br>   indent = 0\mm<br>   markup-system-spacing = #'((basic-distance . 20)<br>                              (minimum-distance . 8)<br>                              (padding . 1))<br>}<br><br>\header {<br>   title = Jeannine<br>   composer = "Duke Pearson"<br>   poet = "Med. Up Swing"<br>   tagline = ##f<br>}<br><br>theChords = \chordmode {<br>   \set chordChanges = ##t<br>   as1*4:m7 as:m7 fis1:m7<br>   b1:7 e:7+ a:7 bes:m7 es:9+ as1:7+ es:9+<br>   as:7+ es2:m7 as:7 <br>   des1:7+ g2:m5-7 c:7 f1*2:7+ f1:m7 bes:7 bes:m7 es:7<br>}<br><br>voltaOne = \markup { 1 \text { &amp; } 3 \text \fontsize #4 \with-color #red \italic { " (fine)" }}<br><br><br>theNotes = \relative c'' {<br>  \set Score.markFormatter = #format-mark-box-alphabet<br>  \clef "treble" \key as \major \time 4/4 \mark #1<br>  \repeat volta 3 {<br>    r8 es4-. r8 es4-. r | r8 es4-. r8 es4-. f-. <br>    ges--( f8 es ~ es2 ~ | es1) \break<br>    r8 es4-. r8 es4-. r | r8 es4-. r8 es4-. f-. <br>    ges-- f8 es ~ es2 ~ | es r8 c des as' ~ \break<br>    as4. e8-. r des4-. a8 | as'!4-- g8 ges-&gt; ~ ges as ges b-&gt; ~ <br>    b2 ~ b8 bes b ges-&gt; ~ | ges2. e8 es~ \break | <br>    es4. es8 r2 | r8 bes( \times 2/3 { c des es } ges4 e8 es) ~ | <br>  }<br>  \alternative {<br>    { <br>      \set Score.repeatCommands = #(list(list 'volta voltaOne)) <br>      es1 ~ | es1 <br>      \set Score.repeatCommands = #'((volta #f) (volta "2") end-repeat) <br>    }<br>    { <br>      es2 \repeatTie \times 2/3 { es4 c es } f2 es <br>      \set Score.repeatCommands = #'((volta #f))<br>      \bar "||" \break \mark #2<br>      as,2 ~ as8( bes \times 2/3 { c des es } | <br>      f4-.) r8 g-&gt;~g( f g a-&gt;) ~ <br>      a1 | r8 e4.-&gt; \times 2/3 { f4 g a } \break<br>      as?2 \times 2/3 { as4 g as } | bes2 f | <br>      bes1 ~ | bes2. r4 \bar ":|." <br>    }<br>  }<br>}<br><br>\score {<br>   &lt;&lt;<br>     \new ChordNames \theChords<br>     \new Staff \theNotes<br>   &gt;&gt;<br>} </pre><figure class="post__image"><img loading="lazy" src="http://myrealbook.vintherine.org/media/posts/7/jeannine.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="http://myrealbook.vintherine.org/media/posts/7/responsive/jeannine-xs.png 300w, http://myrealbook.vintherine.org/media/posts/7/responsive/jeannine-sm.png 480w, http://myrealbook.vintherine.org/media/posts/7/responsive/jeannine-md.png 768w" alt="" width="1585" height="1090"> </figure></div><footer><div class="post__tags-share"><aside class="post__share"></aside></div><div class="post__bio author"><div><h3 class="h6 author__name"><a href="http://myrealbook.vintherine.org/authors/vincent/" class="invert" title="Vincent">Vincent</a></h3></div></div><nav class="post__nav"><div class="post__nav__prev"><a class="post__nav__link" href="http://myrealbook.vintherine.org/lilypond-indications-rythmiques.html" rel="prev">Previous Post<h3 class="h6">Lilypond : indications rythmiques</h3></a></div><div class="post__nav__next"><a class="post__nav__link" href="http://myrealbook.vintherine.org/glissandi-et-bends.html" rel="prev">Next Post<h3 class="h6">Glissandi et bends</h3></a></div></nav></footer></div></article></div></main><footer class="footer"><div class="footer__copyright">Powered by Publii</div></footer><script>window.publiiThemeMenuConfig = {    
      mobileMenuMode: 'sidebar',
      animationSpeed: 300,
      submenuWidth: 'auto',
      doubleClickTime: 500,
      mobileMenuExpandableSubmenus: true, 
      relatedContainerForOverlayMenuSelector: '.navbar',
   };</script><script defer="defer" src="http://myrealbook.vintherine.org/assets/js/scripts.min.js?v=8b3e67b51e8c7a7d51b33f4a94ae4287"></script><script>var images = document.querySelectorAll('img[loading]');

      for (var i = 0; i < images.length; i++) {
         if (images[i].complete) {
               images[i].classList.add('is-loaded');
         } else {
               images[i].addEventListener('load', function () {
                  this.classList.add('is-loaded');
               }, false);
         }
      }</script></body></html>